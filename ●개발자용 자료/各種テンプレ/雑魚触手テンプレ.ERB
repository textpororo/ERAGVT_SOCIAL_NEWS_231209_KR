;------------------------------------------------------------------------------------------------------------------------
;★잡몹적用テンプレ
;　　잡몹적を追加するには幾つかの制約があるので、そのチュートリアルも兼ねたテンプレ用ファイルです。
;　　ユーザー側で잡몹적を追加したい場合は目を通しておいてください。
;
;------------------------------------------------------------------------------------------------------------------------
;★基本の仕組み
;　　잡몹적は基本的に보스전の処理を流用していますが、幾つか異なる点があります。
;　　 1.FLAG:10の値が2になる(この値で보스か잡몹적か判別している)
;　　 2.SAVESTR:13の中身が"MOB"になる
;　　 3.잡몹적はSPCOM(IDが1000～1999の性コマンド)が使用できない
;　　 4.잡몹적の使用するコマンドは専用の지문を表示させることができる
;
;　　このうち4.の仕様を利用して잡몹적ごとの個性を出していくことになります。
;
;------------------------------------------------------------------------------------------------------------------------
;★このテンプレの使い方
;　　잡몹적には固有のIDを割り振る必要があるので、
;　　既存の잡몹적と被らない番号を選んでテンプレ関数名の###と置き換えてください。
;　　例えばID = 25の잡몹적を追加するなら、@TENTACLE_MOB_25となるようにしてください。
;　　機械的な置換を行うとミスが少ないでしょう。
;
;　　また、各種パラメータの下限は 1です。 0にするとエラーになる可能性があるので注意してください。
;
;------------------------------------------------------------------------------------------------------------------------

;==================================================
;【기본】
;--------------------------------------------------
;↓촉수의 존재 확인용 함수　아무것도 처리하지 않는다
@TENTACLE_MOB_###
;--------------------------------------------------
;名前
@TENTACLE_MOB_###_GETNAME
RESULTS = 촉수敵

;--------------------------------------------------
;정의
;잡몹적とエンカウントした際に表示されます。
;외관などの描写はここで行ってください。
@TENTACLE_MOB_###_DEFENITION
PRINTFORML （촉수！）
PRINTFORML （촉수！！）
PRINTFORML （촉수！！！）


;==================================================
;【스테이터스】
;--------------------------------------------------
;HP
;500ポイントにつき１ターン程度生き延びると考えてください。
;ワンパンで倒れるとエロいことができないので多少は時間を与えてあげましょう。
@TENTACLE_MOB_###_HP
LOCAL = 1000
CALL TENTACLE_STATUS_HOSEI, LOCAL, 500
RETURN RESULT

;--------------------------------------------------
;사정 한계치
;この値が高いほど사정が遅くなり、持久力が増します。
@TENTACLE_MOB_###_SYASEI
CALL TENTACLE_LEVEL
LOCAL = 480 + RESULT * 5
RETURN LOCAL

;--------------------------------------------------
;착정 피해량 보정
;この値が高いほど사정時に受ける搾精ダメージが大きくなります。
;自分から대량사정する敵の場合などは値を小さくして自滅を防ぎましょう。
@TENTACLE_MOB_###_SAKUSEI
LOCAL = 200
RETURN LOCAL

;--------------------------------------------------
;방심도 역치
;この値が高いほど油断しにくくなります。
@TENTACLE_MOB_###_YUDAN
LOCAL = 500
RETURN LOCAL

;--------------------------------------------------
;공격
;100を基準に、高ければ高いほど타격による공격の威力が上がります。
;피해량 계산は乗算によって求められるので値を2倍にすればダメージも2倍になります。
@TENTACLE_MOB_###_KOUGEKI
LOCAL = 100
CALL TENTACLE_STATUS_HOSEI, LOCAL
RETURN RESULT

;--------------------------------------------------
;방어
;100を基準に、高ければ高いほど타격で受けるダメージが減ります。
;HPと相談して値を決めると良いでしょう。
@TENTACLE_MOB_###_BOUGYO
LOCAL = 100
CALL TENTACLE_STATUS_HOSEI, LOCAL
RETURN RESULT

;--------------------------------------------------
;민첩
;100を基準に、高ければ高いほど命中率と회피율が上がります。
;보스と違ってHPが少ないので、민첩が低いと意外と早く沈みます。
@TENTACLE_MOB_###_BINSYOU
LOCAL = 100
CALL TENTACLE_STATUS_HOSEI, LOCAL
RETURN RESULT

;--------------------------------------------------
;지성
;50を基準に、高ければ高いほど공격予測が困難になります。
;지성に割り振るプレイヤーは少ないので、このパラメータだけ基準値が低めです。
@TENTACLE_MOB_###_CHISEI
LOCAL = 50
CALL TENTACLE_STATUS_HOSEI, LOCAL,10
RETURN RESULT

;--------------------------------------------------
;근거리
;명중률 보정です。近・中・遠の３種類があります。
;基準は100で値が高いほど命中率が上昇します。
@TENTACLE_MOB_###_SHORT
RESULT = 100
RETURN RESULT

;--------------------------------------------------
;중거리
@TENTACLE_MOB_###_MIDDLE
RESULT = 100
RETURN RESULT

;--------------------------------------------------
;원거리
@TENTACLE_MOB_###_LONG
RESULT = 100
RETURN RESULT

;--------------------------------------------------
;구속력
;キャラクターの「풀어낸다」を失敗させやすくする補正です。
;基準は100で値が高いほど成功率が低下します。
@TENTACLE_MOB_###_HOLD
RESULT = 100
RETURN RESULT

;--------------------------------------------------
;PALAM보정　백분율로 되돌린다
;性コマンドなどでキャラクターに与えるソースの量を変動させる補正です。
;この補正が高いと性コマンドで与えるダメージが上昇します。
;
;　체력を減少させるソース
;　　고통
;　기력を減少させるソース
;　　굴복、치정、공포
;　성내성を減少させるソース
;　　쾌Ｃ、쾌Ｖ、쾌Ａ、쾌Ｂ、공순、욕정
;
@TENTACLE_MOB_###_PALAM_HOSEI
;쾌Ｃ
LOCAL:0 = 100
;쾌Ｖ
LOCAL:1 = 100
;쾌Ａ
LOCAL:2 = 100
;쾌Ｂ
LOCAL:3 = 100
;윤활
LOCAL:4 = 50
;공순
LOCAL:5 = 50
;습득
LOCAL:6 = 50
;욕정
LOCAL:7 = 50
;굴복
LOCAL:8 = 50
;치정
LOCAL:9 = 50
;고통
LOCAL:10 = 50
;공포
LOCAL:11 = 50

RETURN LOCAL:0, LOCAL:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11



;==================================================
;【전용 루틴（전투）】
;--------------------------------------------------
;キャラを拘束していないときの通常戦闘コマンドの選択ルーチンです。
;弱い敵ほど拘束공격を使う確率を上げると良いでしょう。
;
;　0 = ランダム選択
;　1 = 通常공격		공격力依存の체력ダメージ。
;　2 = 絡みつく		拘束공격
;　3 = 粘液공격		固定ダメージ공격、체력へのダメージが大きめ。
;　4 = 距離を取る	回復行動
;　5 = 使用禁止
;　6 = 邪悪な波動	固定ダメージ공격、기력へのダメージが大きめ。
;
@TENTACLE_MOB_###_ATTACK_ROUTINE
LOCAL = RAND:100
IF LOCAL < 25
	RETURN 2
ELSE
	RETURN 0
ENDIF


;==================================================
;【전용 루틴（성행위）】
;--------------------------------------------------
;拘束時に性コマンドを使用する頻度を決定する思考ルーチンです。
;選択条件を与え、性コマンドのIDをRETURNで返します。例えば、0ならＣ공격（약）、3ならＶ공격（강）が選択されます。
;
;注意点として、性行為ルーチンでは必ずRETURNで値を返すようにしてください。
;RETURNを省略するとRETURN 0となりＣ공격（약）が返されてしまいます。-1以下の値を返すことも禁止です。
;また、ID1000～1999のSPCOMは보스専用なので使用させないでください。バグります。
;
;基本の性コマンドで不足の場合はオリジナルのコマンドを作成することができます。
;その場合はID2000～2999を利用してください。
;
@TENTACLE_MOB_###_SEX_ROUTINE
LOCAL = RAND:100
;これはサンプルです。
;15%で専用コマンド「ディープキス」実行
IF LOCAL < 15
	RETURN 2000
;それ以外の場合は「種付け」実行
ELSE
	;衣装が残っていれば「脱衣공격」を実行
	IF CLOTH_OUTER_PER > 90 || CLOTH_INNER_PER > CLOTH_INNER_DEF
		RETURN 14
	ELSE
		;相手が남자なら「Ａ공격（강）」を実行
		IF TALENT:남자 > 0
			RETURN 5
		;「種付け」実行
		ELSE
			RETURN 3
		ENDIF
	ENDIF
ENDIF
;必ずルーチン内で0以上の数値をRETURNで返すようにしてください。
;RETURN -1を返すと@ENEMY_ACTIONの汎用ルーチンを呼び出せますが、
;MOB用지문が存在しないコマンドが選択されるとエラーで強制終了するので使用禁止です。

;==================================================
;【성 커맨드 레퍼런스】
;--------------------------------------------------
;ARG=1　스마타 애태우기 성공 시의 행동 지정
;ARG=2　스마타 애태우기 실패 시의 행동 지정
;ARG=3　펠라치오 유발 시의 행동 지정
;
;性コマンドに関する補足情報です。
;主にキャラクターが「스마타애태우기」を失敗した際の反撃に用いる挿入系コマンドを指定します。
;挿入系コマンドを持たない잡몹적なら、RETURN0を返すかこの関数自体をコメントアウトしてください。
;
;コメントアウトまたはRETURN0を返した場合はキャラクターの「스마타애태우기」が使用不能になります。
;
@TENTACLE_MOB_###_REACTION_REF, ARG = 0
IF ARG == 1
	;ここは3固定でＯＫ
	RETURN 3
ELSEIF ARG == 2
	;50%でＶ공격（강）、50%でＡ공격（강）で反撃
	IF RAND:2 == 0
		RETURN 3
	ELSE
		RETURN 5
	ENDIF
ELSEIF ARG == 3
	;펠라チオが可能ならフェラチオを返す
	RETURN 11
ENDIF
RETURN -1



;==================================================
;【성 커맨드 관련】
;--------------------------------------------------
;ちょっと複雑なので注意して読んでください。
;
;☆コマンド実行の仕組みについて
;まずは性コマンドの分類判定が呼び出され、続いて性コマンドの実行処理が呼び出されます。
;性コマンド実行処理の内部で지문が呼び出され、ここでようやくゲーム画面に文章が表示されます。
;既存コマンドを利用する場合は성 커맨드 분류、지문、추가 공격 부위 지정のみ用意しておけばＯＫですが、
;専用コマンドを利用する場合はさらにコマンドの実行処理も自分で用意する必要があります。
;
;☆커맨드의 ＩＤの指定
;関数名の***を性コマンドのIDに置換してください。
;Ｃ공격（강）ならCOM0、Ｖ공격（강）ならCOM3、専用コマンド2000番ならCOM2000としてください。
;
;☆専用コマンドのCOMABLE
;ID2000以上の専用コマンドにはCOMABLEがありません。
;使用条件を持たせたい場合は性コマンド選択ルーチン内に条件分岐を直接仕込んでください。
;

;@SEX_TYPE_MOB_###_COM***
;@SEXCOM_MOB_###_COM***,ARG = 0,ARG:1 = 0
;@MESSAGE_MOB_###_COM***, ARG:0, ARG:1
;@SEXCOM_OPTION_MOB_###_COM***
;でひとまとめ
;@SEX_TYPE_MOB_###_COM***+1
;@SEXCOM_MOB_###_COM***+1,ARG = 0,ARG:1 = 0
;@MESSAGE_MOB_###_COM***+1, ARG:0, ARG:1
;@SEXCOM_OPTION_MOB_###_COM***+1
;でひとまとめ。としておいた方が「あの関数書き忘れてた！」というミスを防げて、後で見返しやすい。
;--------------------------------------------------
;성 커맨드 분류
;性コマンドの種類を判別するための処理です。
;通常(分類なし)、フェラ(펠라공격で反撃可能)、挿入(풋잡공격で反撃可能)の３つの内どれかを指定してください。
@SEX_TYPE_MOB_###_COM***
RETURN 통상

;--------------------------------------------------
;コマンド実行処理
;雑魚専用コマンドを追加する場合はIDを2000～2999にしてください。
;コマンドIDが0～999までの値ならこの部分は不要です。コメントアウトするなり削除するなりしてください。
;全部自分で설정すると大変なので、既存コマンドの処理をコピペして改変していくのが良さそうです。
;--------------------------------------------------
@SEXCOM_MOB_###_COM***,ARG = 0,ARG:1 = 0
;커맨드의 ＩＤ
LOCAL:0 = ***

;메인 부위（없음0 Ｃ1 Ｖ2 Ａ4 Ｂ8）
LOCAL:2 = Ｖ

;방심도 상승량
LOCAL:3 = 0

;사정フラグ（없음0 질2 애널4 가슴8 입16 手32 균열64 오발128 ビット演算）
LOCAL:4 = 질+입+손

;사정 게이지 상승량
LOCAL:5 = 0

;의상에의 피해
LOCAL:6 = 0

;커맨드의 강도（약=0 강=1 SP=2）
;추가 고문의 효과와 PALAM 영향도 양쪽이 강화된다
LOCAL:7 = 0

;처녀 상실の有無（なし0 あり1 あり、지문なし2）
LOCAL:8 = 0

;特殊効果
;1 = Ｖ삽입방어貫通（Ｖ삽입방어していても挿入される）
;2 = 拡張責め（ＶまたはＡ 강도が1以上なら굴복、치정、고통、공포が入る）
LOCAL:9 = 0

;PALAM影響度　影響なしなら=0　基本値=5
;-------------------------
;쾌Ｃ 강도
LOCAL:10 = 0
;쾌Ｖ 강도
LOCAL:11 = 0
;쾌Ａ 강도
LOCAL:12 = 0
;쾌Ｂ 강도
LOCAL:13 = 0

;マゾによる굴복、공포影響度
LOCAL:14 = 0

;삽입에 따른 공순 영향도
LOCAL:15 = 0

;습득 영향도
LOCAL:16 = 0

;노출벽による욕정、치정、공포影響度（수치 플레이など）
LOCAL:17 = 0

;強制奉仕による굴복影響度（フェラ、이라마치오、파이즈리など）
LOCAL:18 = 0

;펠라경험
EXP:펠라경험 += 0
;방뇨경험
EXP:방뇨경험 += 0

;공통 처리를 호출
VARSET RESULT
CALL MOB_CREATE_COM, LOCAL:0, ARG:1, LOCAL:2, LOCAL:3, LOCAL:4, LOCAL:5, LOCAL:6, LOCAL:7, LOCAL:8, LOCAL:9, LOCAL:10, LOCAL:11, LOCAL:12, LOCAL:13, LOCAL:14, LOCAL:15, LOCAL:16, LOCAL:17, LOCAL:18

;촉수의 행동을 기록
TFLAG:20 = LOCAL:0
;행동 예약 없음
TFLAG:17 = -1

;윤활基本値
RESULT:4 += 0

;습득基本値
RESULT:6 += 0

;욕정基本値
RESULT:7 += 0

;굴복基本値
RESULT:8 += 0

;치정基本値
RESULT:9 += 0

;고통基本値
RESULT:10 += 0

;공포基本値
RESULT:11 += 0

;체력消費基本値
RESULT:12 += 0

;계산으로
CALL PALAM_CAL, RESULT:0, RESULT:1, RESULT:2, RESULT:3, RESULT:4, RESULT:5, RESULT:6, RESULT:7, RESULT:8, RESULT:9, RESULT:10, RESULT:11, RESULT:12


;--------------------------------------------------
;지문の描写
;動画撮影フラグについて：
;지문内で立てる必要がある撮影フラグは、愛撫(1)、口淫(2)、挿入(3)、嬲りものにされる(7)の４つです。
;사정(4と5)、精液ぶっかけ(6)、絶頂(8)はSOURCE内で自動的に付与されるので、지문内でフラグを立てる必要はありません。
;--------------------------------------------------
@MESSAGE_MOB_###_COM***, ARG:0, ARG:1
;サンプル
FONTBOLD
PRINT 전신 애무
FONTREGULAR
CALL MESSAGE_SEX_STATE, ARG:0, ARG:1, Ｃ
PRINTL 
PRINTFORML 무수한 촉수가 %PRINT_TRANSCALLNAME(TARGET)%의 온몸에 엉겨붙어, 살갗 위를 기어 다니고 있다・・・
PRINTW 
;구상
TRYCALLFORM KOJO_ROOT(CFLAG:6, "SEX_COM0")
PRINTL 
;동영상 촬영 플래그 처리
IF FLAG:71
	;애무당하는 모습을 보였다
	SIF (ARG & Ｃ) || (ARG & Ｖ) || (ARG & Ａ) || (ARG & Ｂ)
		SETBIT TFLAG:21,1
ENDIF

;--------------------------------------------------
;추가 공격 부위 지정
;ビット演算でＶＣＡＢを指定します。
;例えば膣と애널の追加攻めを行わせたいなら RETURN 6 または RETURN Ｖ+Ａ としてください。
;追加攻めを行わないのであれば-1を返せばＯＫです。
;--------------------------------------------------
@SEXCOM_OPTION_MOB_###_COM***
RETURN -1


;-----------------------------------------------------------------------------------------------------------------------------------------------
;以下の処理は必要に応じて지문を書きかえるだけでＯＫです。

;--------------------------------------------------
;性コマンド
;--------------------------------------------------
;==================================================
;【의상을 찢는다】
;--------------------------------------------------
;성 커맨드 분류
@SEX_TYPE_MOB_###_COM14
RETURN 통상

@MESSAGE_MOB_###_COM14, ARG:0, ARG:1
FONTBOLD
PRINTL 의상을 찢는다
FONTREGULAR
CALL TENTACLE_ACCESS, "GETNAME"
PRINTFORM %조사처리(RESULTS,"는")% 
IF RAND:3 == 0
	PRINTFORML 촉수 끝에서 탁한 색의 점액을 힘차게 뿜어냈다！
	PRINTFORML 이상한 냄새가 나는 점액이 %PRINT_TRANSCALLNAME(TARGET)%의 온몸을 덮어,
	PRINTFORML 의상이 순식간에 녹아 간다・・・
	PRINTL 
	;구상
	TRYCALLFORM KOJO_{CFLAG:6}_SEX_COM14
	PRINTL 
	;상태 이상：끈적끈적
	CALL STATE_CHANGE_BETOBETO, 15
ELSE
	PRINTFORML %PRINT_TRANSCALLNAME(TARGET)%의 온몸에 엉켜 격렬하게 꿈틀거리고 있다！
	PRINTFORML 쭈글쭈글해진 %PRINT_TRANSCALLNAME(TARGET)%의 의상이 찢어져 간다・・・
	PRINTL 
	;구상
	TRYCALLFORM KOJO_{CFLAG:6}_SEX_COM14
	PRINTL 
ENDIF


;--------------------------------------------------
;通常コマンド
;--------------------------------------------------
;==================================================
;【通常공격】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
;MESSAGE_BATTLE.ERBの@MESSAGE_BATTLE_TENTACLE_ATTACKを参考に
;@MESSAGE_BATTLE_MOB_###_TENTACLE_ATTACK

;==================================================
;【体液を吐く】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_BATTLE.ERBの@MESSAGE_BATTLE_TENTACLE_TAIEKIを参考に
;@MESSAGE_BATTLE_MOB_###_TENTACLE_TAIEKI

;==================================================
;【邪悪な波動】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_BATTLE.ERBの@MESSAGE_BATTLE_TENTACLE_HADOUを参考に
;@MESSAGE_BATTLE_MOB_###_TENTACLE_HADOU

;==================================================
;【휘감는다】
;--------------------------------------------------
@MESSAGE_BATTLE_MOB_###_KARAMITUKU
PRINT 무수한 새끼 촉수 무리
IF TFLAG:12 == 3
	PRINTFORM 가 온몸을 스프링삼아, 사방팔방에서 %PRINT_TRANSCALLNAME(TARGET)%에게 덤벼들어 왔다！
ELSEIF RAND:2 == 0
	PRINTFORM 가 온몸을 스프링삼아, %PRINT_TRANSCALLNAME(TARGET)%의 발밑에서 덤벼들어 왔다！
ELSE
	PRINTFORM 가 %PRINT_TRANSCALLNAME(TARGET)%의 머리 위에서부터 덤벼들어 왔다！
ENDIF
PRINT （
IF TFLAG:11 & 1
	PRINT 근
ELSE
	PRINT 　
ENDIF
IF TFLAG:11 & 2
	PRINT 중
ELSE
	PRINT 　
ENDIF
IF TFLAG:11 & 4
	PRINT 원
ELSE
	PRINT 　
ENDIF
PRINT ）
IF TFLAG:11 & 8
	PRINT 대공
ELSE
	PRINT 　　
ENDIF
PRINTL 


;==================================================
;【휘감는다 성공】
;--------------------------------------------------
@MESSAGE_BATTLE_MOB_###_KARAMITUKU_SUCCESS
PRINTFORM 다 피하지 못한 %조사처리(PRINT_TRANSCALLNAME(TARGET),"는")% 
CALL TENTACLE_ACCESS, "NAME"
PRINTFORML 에게 휘감겨,
PRINTFORML 무리 속에 사로잡히고 말았다！





;--------------------------------------------------
;魔法少女側　性コマンド
;--------------------------------------------------
;==================================================
;【수음공격】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_SEX.ERBの@MESSAGE_BATTLE_CHARA_SEX_ATTACK100を参考に
@MESSAGE_BATTLE_CHARA_MOB_###_SEX_ATTACK100

;==================================================
;【펠라공격】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_SEX.ERBの@MESSAGE_BATTLE_CHARA_SEX_ATTACK101を参考に
@MESSAGE_BATTLE_CHARA_MOB_###_SEX_ATTACK101

;==================================================
;【풋잡공격】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_SEX.ERBの@MESSAGE_BATTLE_CHARA_SEX_ATTACK102を参考に
@MESSAGE_BATTLE_CHARA_MOB_###_SEX_ATTACK102

;==================================================
;【스마타애태우기】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_SEX.ERBの@MESSAGE_BATTLE_CHARA_SEX_ATTACK103を参考に
@MESSAGE_BATTLE_CHARA_MOB_###_SEX_ATTACK103

;==================================================
;【쥐어짠다】
;--------------------------------------------------
;コメントアウトすると通常の지문が表示される
:MESSAGE_SEX.ERBの@MESSAGE_BATTLE_CHARA_SEX_ATTACK104を参考に
@MESSAGE_BATTLE_CHARA_MOB_###_SEX_ATTACK104

