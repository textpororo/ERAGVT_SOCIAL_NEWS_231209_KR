;グローバル　マニアックな性嗜好필터
;※チェック関数は
;　필터ーOff(×)なら1が、
;　필터ーOn(○)なら0が返る仕組みになっている
;	★混乱招くでしょこれ
;	　オプションOff(×)なら0が、
;	　オプションOn(○)なら1が返る仕組みにする

;FLAG:850
;使う플래그를減らすためにバイナリ表示で
;1 후타나리		1
;2 모유체질		2
;3 기생			4
;4 異形出産		8
;5 男女平等		16
;6 淫紋			32
;7~12 淫紋サブ		64,128,256,512,1024,2048
;13 흑화 캐릭터の촉수	4096 (※テキストの関係で完全な分岐には至っていない。촉수とちんこどっち突っ込むか分岐する箇所で使われる)
;14 グロリョナ表現	8192
;15 スカトロ表現	16384
;16 拡張度表示		32768
;17 極端な拡張	65536
;18 팽유の取得		131072
;19 極端な팽유	262144
;20 極端な촉수の太さ	524288

;---------------------------------------------
;ARG番目のパッチがONになっているかチェック
;※基本的にはこちらではなく式中関数版を利用してください
;　このファイル内でしか使われていない
;---------------------------------------------
@CONFIG_CHECK_MANIAC,ARG
LOCAL = GETBIT (FLAG:850,ARG)
;　필터ーOff(×)なら1が、
;　필터ーOn(○)なら0が格納されていて混乱を招く
;通常のオプション同様の返り値とすべく結果を裏返す
LOCAL=1-LOCAL
RETURN LOCAL

;式中関数版
;※基本的にはこちらを使って判定します
;　== 1 なら当該の要素が有効(○)、 == 0 なら無効(×)です
@CONFIG_CHECK_MANIAC_F(ARG)
#FUNCTION
LOCAL = GETBIT (FLAG:850,ARG)
LOCAL=1-LOCAL
RETURNF LOCAL

;---------------------------------------------
;필터の処理
;---------------------------------------------
@CONFIG_F
LOCAL = LINECOUNT
$MASTER_LOOP
PRINTL 
DRAWLINE
PRINTL 性嗜好필터　×にした要素はゲーム中に登場しなくなります
PRINTL
CALL CONFIG_CHECK_MANIAC,1
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [11]후타나리の取得　　　　　　　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,2
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [12]모유체질の取得　　　　　　　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,3
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [13]기생の取得　　　　　　　　　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,4
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [14]出産時の合いの子(異形)描写　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,5
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [15]男女平等(남자も犯される)　　　【\@RESULT?○#×\@】　※♀と보추は常に被姦対象です
CALL CONFIG_CHECK_MANIAC,6
SETCOLOR 120,255,255
SIF RESULT == 0
	SETCOLOR 105,105,105
PRINTFORML [16]%RESULT==1 ? "▲" # "▼"%淫紋の取得　　　　　　　　　　【\@RESULT?○#×\@】
IF RESULT == 1
	CALL CONFIG_CHECK_MANIAC,7
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [17]┣複数個所の取得　　　　　　　　【\@RESULT?○#×\@】
	CALL CONFIG_CHECK_MANIAC,8
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [18]┣複雑化　　　　　　　　　　　　【\@RESULT?○#×\@】
	CALL CONFIG_CHECK_MANIAC,9
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [19]┣救出後も浸食が進む　　　　　　【\@RESULT?○#×\@】　
	CALL CONFIG_CHECK_MANIAC,10
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [20]┣進行が汚染度と連動する　　　　【\@RESULT?○#×\@】
		;(汚染度…どれだけ陥落に近付いているか示す内部値)
	CALL CONFIG_CHECK_MANIAC,11
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [21]┣対応フォントの使用　　　　　　【\@RESULT?○#×\@】
	CALL CONFIG_CHECK_MANIAC,12
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [22]┗Wingdingsの使用　　 　　　　　【\@RESULT?○#×\@】
ENDIF
CALL CONFIG_CHECK_MANIAC,13
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
PRINTFORML [23]기생陥落キャラによる촉수責め　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,14
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
PRINTFORML [24]残酷/ハードな描写 　　　　　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,15
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
PRINTFORML [25]スカトロ系描写 　 　　　　　　　【\@RESULT?○#×\@】
CALL CONFIG_CHECK_MANIAC,16
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
PRINTFORML [26]%RESULT==1 ? "▲" # "▼"%拡張度の表示　  　　　　　　　【\@RESULT?○#×\@】
IF RESULT == 1
	CALL CONFIG_CHECK_MANIAC,17
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [27]┣極端な拡張　　　　　　　　　　【\@RESULT?○#×\@】
	CALL CONFIG_CHECK_MANIAC,20
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [30]┗極端な太さの촉수　　　　　　　【\@RESULT?○#×\@】
ENDIF
CALL CONFIG_CHECK_MANIAC,18
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
PRINTFORML [28]%RESULT==1 ? "▲" # "▼"%팽유の取得   　 　　　　　　　【\@RESULT?○#×\@】
IF RESULT == 1
	CALL CONFIG_CHECK_MANIAC,19
	SETCOLOR 120,255,255
	SIF RESULT == 0
		SETCOLOR 105,105,105
	PRINTFORML [29]┗極端な팽유　　　　　　　　　　【\@RESULT?○#×\@】
ENDIF

RESETCOLOR
PRINTL 

	IF CONFIG_CHECK_MANIAC_F(6) == 0
		PRINTL
		PRINTL
		PRINTL
		PRINTL
		PRINTL
		PRINTL
	ENDIF
	IF CONFIG_CHECK_MANIAC_F(16) == 0
		PRINTL
		PRINTL
	ENDIF
	IF CONFIG_CHECK_MANIAC_F(18) == 0
		PRINTL
	ENDIF

PRINTL [200]変更を保存して돌아간다
PRINTL 

$INPUT_LOOP
INPUT
IF RESULT >= 11 && RESULT <= 31 
	INVERTBIT FLAG:850,(RESULT-10)
	SIF GETBIT(FLAG:850, (RESULT-10)) && RESULT == 21
		CLEARBIT FLAG:850, 12
	SIF GETBIT(FLAG:850, (RESULT-10)) && RESULT == 22
		CLEARBIT FLAG:850, 1
	CLEARLINE LINECOUNT - LOCAL
	GOTO MASTER_LOOP
ELSEIF RESULT == 200
	GLOBAL:4 = FLAG:850
	SAVEGLOBAL
	RETURN
ELSE
	GOTO INPUT_LOOP
ENDIF



