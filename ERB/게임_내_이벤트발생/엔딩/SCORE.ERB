;**********************************************************
;ゲームクリア後のスコア表示
@SCORE
#DIM CCOUNT
VARSET LOCAL
;キャラの生存状況による評価
;ソロモードは유폐경험で分岐
IF GAME_OPTION_CHECK_F(OPTION_solo) && CHARANUM < 3
	LOCAL = EXP:1:유폐경험
	IF LOCAL >= 5
		LOCAL:1 = 1
		LOCALS:1 = E
	ELSEIF LOCAL >= 4
		LOCAL:1 = 2
		LOCALS:1 = D
	ELSEIF LOCAL >= 3
		LOCAL:1 = 3
		LOCALS:1 = C
	ELSEIF LOCAL >= 2
		LOCAL:1 = 4
		LOCALS:1 = B
	ELSEIF LOCAL >= 1
		LOCAL:1 = 5
		LOCALS:1 = A
	ELSE
		LOCAL:1 = 6
		LOCALS:1 = S
	ENDIF
ELSE
	LOCAL = 100
	FOR CCOUNT, 0, CHARANUM
		SIF CCOUNT == MASTER
			CONTINUE

		;유폐状態で放置
		SIF CFLAG:CCOUNT:0 == 1
			LOCAL -= 60 / (CHARANUM - 1)
		;세뇌、흑화状態で放置
		SIF CFLAG:CCOUNT:0 == 2 || CFLAG:CCOUNT:0 == 3
			LOCAL -= 30 / (CHARANUM - 1)
		;死亡状態
		SIF CFLAG:CCOUNT:0 == 9
			LOCAL -= 90 / (CHARANUM - 1)
	NEXT
	IF LOCAL < 40
		LOCAL:1 = 1
		LOCALS:1 = E
	ELSEIF LOCAL < 55
		LOCAL:1 = 2
		LOCALS:1 = D
	ELSEIF LOCAL < 70
		LOCAL:1 = 3
		LOCALS:1 = C
	ELSEIF LOCAL < 85
		LOCAL:1 = 4
		LOCALS:1 = B
	ELSEIF LOCAL < 100
		LOCAL:1 = 5
		LOCALS:1 = A
	ELSE
		LOCAL:1 = 6
		LOCALS:1 = S
	ENDIF
ENDIF

;エンドレスモードの場合は撃破数評価
IF GAME_OPTION_CHECK_F(OPTION_endless)
	CALL TENTACLE_SURVIVE, "NUM"
	LOCAL = FLAG:3 - RESULT
	IF LOCAL < 10
		LOCAL:2 = 1
		LOCALS:2 = E
	ELSEIF LOCAL < 15
		LOCAL:2 = 2
		LOCALS:2 = D
	ELSEIF LOCAL < 20
		LOCAL:2 = 3
		LOCALS:2 = C
	ELSEIF LOCAL < 40
		LOCAL:2 = 4
		LOCALS:2 = B
	ELSEIF LOCAL < 50
		LOCAL:2 = 5
		LOCALS:2 = A
	ELSE
		LOCAL:2 = 6
		LOCALS:2 = S
	ENDIF
;それ以外は残り日数による評価
ELSE
	LOCAL = (FLAG:1 - DAY) * 100 / FLAG:2
	IF LOCAL < 30
		LOCAL:2 = 1
		LOCALS:2 = E
	ELSEIF LOCAL < 70
		LOCAL:2 = 2
		LOCALS:2 = D
	ELSEIF LOCAL < 110
		LOCAL:2 = 3
		LOCALS:2 = C
	ELSEIF LOCAL < 150
		LOCAL:2 = 4
		LOCALS:2 = B
	ELSEIF LOCAL < 190
		LOCAL:2 = 5
		LOCALS:2 = A
	ELSE
		LOCAL:2 = 6
		LOCALS:2 = S
	ENDIF
ENDIF

;모든 캐릭터의 피간경험と素質による評価
LOCAL = 0
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE

	IF TALENT:CCOUNT:처녀 > 0 || TALENT:CCOUNT:청순파 > 0
		LOCAL += EXP:CCOUNT:피간경험
	ELSE
		LOCAL += EXP:CCOUNT:피간경험 * 2
	ENDIF
	SIF TALENT:CCOUNT:처녀 > 0 && TALENT:CCOUNT:청순파 > 0
		LOCAL -= 1
NEXT

IF LOCAL >= 150
	LOCAL:3 = 1
	LOCALS:3 = E
ELSEIF LOCAL >= 100
	LOCAL:3 = 2
	LOCALS:3 = D
ELSEIF LOCAL >= 50
	LOCAL:3 = 3
	LOCALS:3 = C
ELSEIF LOCAL >= 10
	LOCAL:3 = 4
	LOCALS:3 = B
ELSEIF LOCAL >= 1
	LOCAL:3 = 5
	LOCALS:3 = A
ELSE
	LOCAL:3 = 6
	LOCALS:3 = S
ENDIF

;生存キャラの性関連の能力値による評価
LOCAL = 0
FOR CCOUNT, O, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE

	IF CFLAG:CCOUNT:0 == 0
	
		;快C
		IF ABL:CCOUNT:C감각 == 1
			LOCAL += 1
		ELSEIF ABL:CCOUNT:C감각 == 2
			LOCAL += 2
		ELSEIF ABL:CCOUNT:C감각 == 3
			LOCAL += 3
		ELSEIF ABL:CCOUNT:C감각 == 4
			LOCAL += 4
		ELSEIF ABL:CCOUNT:C감각 >= 5
			LOCAL += 5
		ENDIF
		;快V
		IF ABL:CCOUNT:V감각 == 1
			LOCAL += 2
		ELSEIF ABL:CCOUNT:V감각 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:V감각 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:V감각 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:V감각 >= 5
			LOCAL += 10
		ENDIF
		;快A
		IF ABL:CCOUNT:A감각 == 1
			LOCAL += 2
		ELSEIF ABL:CCOUNT:A감각 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:A감각 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:A감각 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:A감각 >= 5
			LOCAL += 10
		ENDIF
		;快B
		IF ABL:CCOUNT:B감각 == 1
			LOCAL += 1
		ELSEIF ABL:CCOUNT:B감각 == 2
			LOCAL += 2
		ELSEIF ABL:CCOUNT:B감각 == 3
			LOCAL += 3
		ELSEIF ABL:CCOUNT:B감각 == 4
			LOCAL += 4
		ELSEIF ABL:CCOUNT:B감각 >= 5
			LOCAL += 5
		ENDIF
		;순종
		IF ABL:CCOUNT:순종 == 1
			LOCAL += 4
		ELSEIF ABL:CCOUNT:순종 == 2
			LOCAL += 6
		ELSEIF ABL:CCOUNT:순종 == 3
			LOCAL += 9
		ELSEIF ABL:CCOUNT:순종 == 4
			LOCAL += 12
		ELSEIF ABL:CCOUNT:순종 >= 5
			LOCAL += 15
		ENDIF
		;욕망
		IF ABL:CCOUNT:욕망 == 1
			LOCAL += 3
		ELSEIF ABL:CCOUNT:욕망 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:욕망 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:욕망 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:욕망 >= 5
			LOCAL += 10
		ENDIF
		;기교
		IF ABL:CCOUNT:기교 == 1
			LOCAL += 3
		ELSEIF ABL:CCOUNT:기교 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:기교 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:기교 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:기교 >= 5
			LOCAL += 10
		ENDIF
		;봉사정신
		IF ABL:CCOUNT:봉사정신 == 1
			LOCAL += 4
		ELSEIF ABL:CCOUNT:봉사정신 == 2
			LOCAL += 6
		ELSEIF ABL:CCOUNT:봉사정신 == 3
			LOCAL += 9
		ELSEIF ABL:CCOUNT:봉사정신 == 4
			LOCAL += 12
		ELSEIF ABL:CCOUNT:봉사정신 >= 5
			LOCAL += 15
		ENDIF
		;노출벽
		IF ABL:CCOUNT:노출벽 == 1
			LOCAL += 3
		ELSEIF ABL:CCOUNT:노출벽 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:노출벽 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:노출벽 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:노출벽 >= 5
			LOCAL += 10
		ENDIF
		;마조끼
		IF ABL:CCOUNT:마조끼 == 1
			LOCAL += 3
		ELSEIF ABL:CCOUNT:마조끼 == 2
			LOCAL += 4
		ELSEIF ABL:CCOUNT:마조끼 == 3
			LOCAL += 6
		ELSEIF ABL:CCOUNT:마조끼 == 4
			LOCAL += 8
		ELSEIF ABL:CCOUNT:마조끼 >= 5
			LOCAL += 10
		ENDIF
		;촉수중독
		IF ABL:CCOUNT:촉수중독 == 1
			LOCAL += 7
		ELSEIF ABL:CCOUNT:촉수중독 == 2
			LOCAL += 10
		ELSEIF ABL:CCOUNT:촉수중독 == 3
			LOCAL += 15
		ELSEIF ABL:CCOUNT:촉수중독 == 4
			LOCAL += 20
		ELSEIF ABL:CCOUNT:촉수중독 >= 5
			LOCAL += 25
		ENDIF
		;자위중독
		IF ABL:CCOUNT:자위중독 == 1
			LOCAL += 6
		ELSEIF ABL:CCOUNT:자위중독 == 2
			LOCAL += 8
		ELSEIF ABL:CCOUNT:자위중독 == 3
			LOCAL += 12
		ELSEIF ABL:CCOUNT:자위중독 == 4
			LOCAL += 16
		ELSEIF ABL:CCOUNT:자위중독 >= 5
			LOCAL += 20
		ENDIF
		;정액중독
		IF ABL:CCOUNT:정액중독 == 1
			LOCAL += 6
		ELSEIF ABL:CCOUNT:정액중독 == 2
			LOCAL += 8
		ELSEIF ABL:CCOUNT:정액중독 == 3
			LOCAL += 12
		ELSEIF ABL:CCOUNT:정액중독 == 4
			LOCAL += 16
		ELSEIF ABL:CCOUNT:정액중독 >= 5
			LOCAL += 20
		ENDIF
		;모유중독
		IF ABL:CCOUNT:모유중독 == 1
			LOCAL += 9
		ELSEIF ABL:CCOUNT:모유중독 == 2
			LOCAL += 12
		ELSEIF ABL:CCOUNT:모유중독 == 3
			LOCAL += 18
		ELSEIF ABL:CCOUNT:모유중독 == 4
			LOCAL += 24
		ELSEIF ABL:CCOUNT:모유중독 >= 5
			LOCAL += 30
		ENDIF
		;사정중독
		IF ABL:CCOUNT:사정중독 == 1
			LOCAL += 9
		ELSEIF ABL:CCOUNT:사정중독 == 2
			LOCAL += 12
		ELSEIF ABL:CCOUNT:사정중독 == 3
			LOCAL += 18
		ELSEIF ABL:CCOUNT:사정중독 == 4
			LOCAL += 24
		ELSEIF ABL:CCOUNT:사정중독 >= 5
			LOCAL += 30
		ENDIF
	
	ENDIF
	
NEXT

SIF CHARANUM_SAFE()
	LOCAL = LOCAL / CHARANUM_SAFE()

IF LOCAL < 20
	LOCAL:4 = 1
	LOCALS:4 = E
ELSEIF LOCAL < 50
	LOCAL:4 = 2
	LOCALS:4 = D
ELSEIF LOCAL < 80
	LOCAL:4 = 3
	LOCALS:4 = C
ELSEIF LOCAL < 120
	LOCAL:4 = 4
	LOCALS:4 = B
ELSEIF LOCAL < 150
	LOCAL:4 = 5
	LOCALS:4 = A
ELSE
	LOCAL:4 = 6
	LOCALS:4 = S
ENDIF

;인기도による評価
LOCAL = FLAG:853
IF LOCAL <= -10
	LOCAL:5 = 1
	LOCALS:5 = E
ELSEIF LOCAL < 15
	LOCAL:5 = 2
	LOCALS:5 = D
ELSEIF LOCAL < 30 || (!GAME_OPTION_CHECK_F(OPTION_solo) && LOCAL < 30)
	LOCAL:5 = 3
	LOCALS:5 = C
ELSEIF LOCAL < 35 || (!GAME_OPTION_CHECK_F(OPTION_solo) && LOCAL < 40)
	LOCAL:5 = 4
	LOCALS:5 = B
ELSEIF LOCAL < 40 || (!GAME_OPTION_CHECK_F(OPTION_solo) && LOCAL < 50)
	LOCAL:5 = 5
	LOCALS:5 = A
ELSE
	LOCAL:5 = 6
	LOCALS:5 = S
ENDIF

;クリア時の総資産による評価
LOCAL = MONEY * 2
;施設
LOCAL += 5000 * (FLAG:50 - 1) + 5000
LOCAL += 1000 * (FLAG:51 - 1) + 1000
LOCAL += 10000 * FLAG:52 + 10000
SIF (FLAG:53 & 관엽식물)
	LOCAL += 500
SIF (FLAG:53 & 질좋은침대)
	LOCAL += 12000
SIF (FLAG:53 & 최고급침대)
	LOCAL += 95000
SIF (FLAG:53 & 안마의자)
	LOCAL += 25800
SIF (FLAG:53 & 목욕설비)
	LOCAL += 50000
SIF (FLAG:53 & 게임코너)
	LOCAL += 100000
SIF (FLAG:53 & 대욕탕)
	LOCAL += 200000
SIF (FLAG:53 & 미용온천)
	LOCAL += 500000
SIF (FLAG:53 & 뷰티살롱)
	LOCAL += 1500000

;ソロモード時は３倍の評価
SIF GAME_OPTION_CHECK_F(OPTION_solo)
	LOCAL *= 3
;所持アイテム
FOR CCOUNT,0,999
	SIF ITEM:CCOUNT
		LOCAL += ITEMPRICE:CCOUNT
NEXT
IF LOCAL < 100000
	LOCAL:6 = 1
	LOCALS:6 = E
ELSEIF LOCAL < 125000
	LOCAL:6 = 2
	LOCALS:6 = D
ELSEIF LOCAL < 150000
	LOCAL:6 = 3
	LOCALS:6 = C
ELSEIF LOCAL < 175000
	LOCAL:6 = 4
	LOCALS:6 = B
ELSEIF LOCAL < 200000
	LOCAL:6 = 5
	LOCALS:6 = A
ELSE
	LOCAL:6 = 6
	LOCALS:6 = S
ENDIF

;総合評価
;피간경험と性能力値のうち、良いスコアの方を総合評価に使う
IF LOCAL:3 >= LOCAL:4
	LOCAL:98 = LOCAL:3
ELSE
	LOCAL:98 = LOCAL:4
ENDIF

LOCAL = (LOCAL:1 + LOCAL:2 + LOCAL:98 + LOCAL:5 + (LOCAL:6 / 2) + 3) / 5

IF LOCAL == 1
	LOCALS:99 = E
ELSEIF LOCAL == 2
	LOCALS:99 = D
ELSEIF LOCAL == 3
	LOCALS:99 = C
ELSEIF LOCAL == 4
	LOCALS:99 = B
ELSEIF LOCAL == 5
	LOCALS:99 = A
ELSE
	LOCALS:99 = S
ENDIF

;評価の表示
PRINTL *** クリアスコア ***
CALL SHORTLINE
PRINTFORML キャラの生存・・・%LOCALS:1%
IF GAME_OPTION_CHECK_F(OPTION_endless)
	PRINTFORML 보스撃破数・・・・%LOCALS:2%
ELSE
	PRINTFORML クリア日数・・・・%LOCALS:2%
ENDIF
IF LOCAL:3 >= LOCAL:4
	PRINTFORML キャラの純潔度・・%LOCALS:3%    キャラの性成長・・%LOCALS:4%
ELSE
	PRINTFORML キャラの性成長・・%LOCALS:4%    キャラの純潔度・・%LOCALS:3%
ENDIF
PRINTFORML 인기도・・・・・・%LOCALS:5%
PRINTFORML 総資産・・・・・・%LOCALS:6%
PRINTL 
PRINTFORML 総合評価・・・・・%LOCALS:99%
CALL SHORTLINE
PRINTW 
;評価メッセージ
PRINTL クリアおめでとうございます。
PRINTL このコーナーではスコアに対する評価をしていきたいと思います。
PRINTW 
;生存評価
PRINTFORML 生存評価：%LOCALS:1%
IF GAME_OPTION_CHECK_F(OPTION_solo)
	IF LOCAL:1 <= 3
		PRINTL ソロモードでは유폐されてもゲームオーバーにならない代わりに、
		PRINTL 유폐された回数で生存評価が低下してしまいます。
		PRINTL また、세뇌/흑화するとゲームオーバーになるという
		PRINTL ソロモード独自の仕様があるので要注意です。
	ELSEIF LOCAL:1 <= 5
		PRINTL ソロモードでは一回や二回くらい유폐されても余裕で脱出できます。
		PRINTL しかし、Ｓ評価を目指すならば一度も유폐されずにクリアする必要があります。
		PRINTL 純潔度評価Ｓを目指せば自然と生存評価も良くなるので、同時に目指してみましょう。
	ELSE
		PRINTL 一度も유폐されずにクリアできたようですね。
		PRINTL たった一人でずいぶん大変だったろうと思います。
		IF LOCAL:4 >= 3
			PRINTL おまけに性成長評価が高いということは、茨の道を歩んできた証拠。
			PRINTL そんなアナタに敬礼です。
		ELSE
			PRINTL 性成長評価を高めようとすると自然と유폐されるプレイになると思うので、
			PRINTL 生存評価と両立するのはもはや苦行の領域かもしれません。
		ENDIF
	ENDIF
ELSE
	IF LOCAL:1 <= 2
		PRINTL 苦しい戦いだったかもしれませんが、よく頑張りました。
		PRINTL 체력や기력が減ると命中率や回避率が大きく落ちてしまうので、
		PRINTL 早めに撤退すれば敗北は避けられます。
	ELSEIF LOCAL:1 == 3
		PRINTL あらら・・・ずいぶん犠牲者が出てしまったようですね。
		PRINTL 仲間を유폐した보스は遭遇率がグーンと伸びるので、諦めずに救出に向かいましょう。
	ELSEIF LOCAL:1 == 4
		PRINTL 一人が捕まったくらいなら、방위력を維持しながら鍛錬するのも容易いはず。
		PRINTL 전투 지원を利用すれば撤退しやすくなるので、試しに使ってみては如何でしょう？
	ELSEIF LOCAL:1 == 5
		PRINTL 세뇌や흑화してしまった仲間を見捨てていませんか？
		PRINTL 仲間が全員揃っていればクリア評価はＳになるので、もうひと踏ん張りです。
	ELSE
		PRINTL 全員を無事に生存させたみたいですね。
		PRINTL 実は仲間が捕まってしまうと제한 일수が増加するので、
		PRINTL あえて捕まらせて日数を稼ぐという戦略もあります。
		PRINTL 知ってました？
	ENDIF
ENDIF
PRINTW 
;撃破数評価/日数評価
IF GAME_OPTION_CHECK_F(OPTION_endless)
	PRINTFORML 撃破評価：%LOCALS:2%
	IF LOCAL:2 <= 2
		PRINTL あまり撃破数が伸びなかったようですね。
		PRINTL 鍛錬するか보스に挑むかのバランスが攻略の鍵です。
		PRINTL ENDLESSモードでは보스の레벨アップが少しだけ遅いので、
		PRINTL 思い切って突撃してみると意外と倒せたりします。
	ELSEIF LOCAL:2 == 3
		PRINTL 普通にプレイした場合の平均的な撃破数ですね。
		PRINTL キャラクターにも苦手な相手と得意な相手が居ると思うので、
		PRINTL どの보스が出現するか等の運の要素も絡んできます。
	ELSEIF LOCAL:2 == 4
		PRINTL ENDLESSモードでは보스撃破数20を突破すると期限があまり伸びなくなるので、
		PRINTL この先はひたすら제한 일수との戦いになります。
		PRINTL ここまで来たらキャラ引き継ぎや레벨引き継ぎで最高の戦力を用意して挑みましょう。
	ELSEIF LOCAL:2 == 5
		PRINTL 素晴らしい撃破数ですが、おしい。
		PRINTL どんな手段を使ってでも期日を延ばして１体でも多くの보스を撃破しましょう。
		PRINTL 最高評価まではあと一歩です！
	ELSE
		PRINTL お見事です。かなり効率的なプレイをしたみたいですね。
		PRINTL この数の보스を撃破するのは並大抵のことではありません。
		PRINTL 堂々のＳ評価おめでとうございます。
	ENDIF
ELSE
	PRINTFORML 日数評価：%LOCALS:2%
	IF LOCAL:2 == 1
		PRINTL かなりギリギリだったようですね。
		PRINTL 時間を掛け過ぎると보스の레벨が上がってしまうので、
		PRINTL 慎重になりすぎるのも考えものです。
	ELSEIF LOCAL:2 == 2
		PRINTL 慎重なプレイスタイルだったみたいですね。
		PRINTL 최종 보스のＨＰはかなり多いので、こまめに削っていくことが重要です。
	ELSEIF LOCAL:2 == 3
		PRINTL 初見プレイならば標準的な日数でクリアできました。
		PRINTL より効率的な戦い方もできるので、探してみるのも楽しいですよ？
	ELSEIF LOCAL:2 == 4
		PRINTL 残り日数を意識してプレイすればこのくらいになるでしょうか。
		PRINTL 鍛錬施設Lvを早めに上げれば、もっと短縮できるはずです。
	ELSEIF LOCAL:2 == 5
		PRINTL 惜しいところでしたね。
		PRINTL 보스とうまく遭遇できない場合もあるので、仕方ないかもしれません。
	ELSE
		PRINTL お見事です。かなり効率的なプレイをしたみたいですね。
		PRINTL さらなる記録を目指すのもよし、別の攻略法を試してみるのも良いでしょう。
		PRINTL ともかく、Ｓ評価おめでとうございます。
	ENDIF
ENDIF
PRINTW 
;純潔/性成長評価
IF LOCAL:3 >= LOCAL:4
	PRINTFORML 純潔度評価：%LOCALS:3%　　性成長評価：%LOCALS:4%
	IF LOCAL:3 <= 3
		PRINTL エッチなことを避けようとしたのに、犯されてしまったようですね。
		PRINTL このくらいが正しい楽しみ方をしているとも言います。
		PRINTL あえてリセットしないそのスタイルは好感に値します。
	ELSEIF LOCAL:3 == 4
		PRINTL エッチは回避して進んだものの、油断があったみたいですね。
		PRINTL 처녀を守り通したキャラは多少エッチなことをされても
		PRINTL 純潔度が高くなるので、気を付けてみましょう。
	ELSEIF LOCAL:3 == 5
		PRINTL かなり頑張りましたが、残念。Ａ評価です。
		PRINTL 一度でも捕まってしまうとＳ評価にはならないので、
		PRINTL さらに上を目指すには민첩性特化にする必要があるかもしれません。
	ELSE
		PRINTL お見事としか言いようがありません。
		PRINTL エロゲーでここまで本気で純潔を守ったアナタは立派です。
		PRINTL 堂々のＳ評価、おめでとうございます。
	ENDIF
ELSE
	PRINTFORML 性成長評価：%LOCALS:4%　　純潔度評価：%LOCALS:3%
	IF LOCAL:4 <= 2
		PRINTL エッチなことを避けようとしたのに、エッチになってしまったようですね。
		PRINTL 開き直ってエロエロなキャラを目指す遊び方もありますよ。
	ELSEIF LOCAL:4 == 3 || LOCAL:4 == 4
		PRINTL そこそこエッチな娘（たち）になってしまったようですね。
		PRINTL このくらいが正しい楽しみ方をしているとも言います。
		PRINTL どうせならもっとエロい娘を目指して、自分から捕まっちゃいましょう。
	ELSEIF LOCAL:4 == 5
		PRINTL かなりヤられちゃいましたね。
		IF GAME_OPTION_CHECK_F(OPTION_solo)
			PRINTL キャラが捕まると期限が延びるので、わざと유폐されて日数を稼ぐ
			PRINTL マッチポンプ戦法もオススメです。
		ELSE
			PRINTL キャラが捕まると期限が延びるので、「救出」コマンドを利用した
			PRINTL マッチポンプ戦法もオススメです。
		ENDIF
	ELSE
		PRINTL すごい事になってますね。
		PRINTL わざと捕まったりしなければこの評価にはならないと思うので、
		PRINTL お楽しみ頂けたようで何よりです。
		PRINTL ともかく、Ｓ評価おめでとうございます。
	ENDIF
ENDIF
PRINTW 
;인기도評価
PRINTFORML 인기도評価：%LOCALS:5%
IF LOCAL:5 == 1
	PRINTL もしかして방위력のことを完全に忘れていませんか？
	PRINTL ずっと出撃や防衛をせずに放置すると촉수による侵攻が進んでしまいます。
	PRINTL また、何度も繰り返し戦闘で敗北すると、フォローが利かなくなります。
ELSEIF LOCAL:5 == 2
	IF GAME_OPTION_CHECK_F(OPTION_solo)
		PRINTL ソロモードでは방위력の管理が簡単なので、
		PRINTL 인기도の維持をすること自体は難しくないはず。
		PRINTL まずは보스に敗北せずにクリアすることを目指しましょう。
	ELSE
		PRINTL ヒーローとしてはまずまずの評価です。
		PRINTL 보스に고전して、何度か敗北してしまったのではないでしょうか？
		PRINTL やられるくらいなら撤退した方が良いので、戦闘では引き際が肝心です。
	ENDIF
ELSEIF LOCAL:5 == 3
	PRINTL 特に意識せずにプレイしていてもこの程度にはなるでしょう。
	PRINTL 인기도は変動しにくい数値なので、
	PRINTL なるべく低下させないように心がけると、自然と上昇していくはずです。
ELSEIF LOCAL:5 == 4
	PRINTL ただ촉수を倒すだけでは真の英雄とは呼べません。
	PRINTL ここからさらに上を目指すには、市民たちに親しみを覚えてもらう必要がありそうです。
	PRINTL アルバイトをしてみたり、あとは…アイドルとして活動してみると、
	PRINTL 応援してくれる人が増えるかもしれません。
ELSEIF LOCAL:5 == 5
	PRINTL なかなか順調にプレイが進んだようですね。
	PRINTL リセットなしでここまで来れれば、
	PRINTL 大分このゲームを攻略できていると言えそうです。
ELSEIF GAME_OPTION_CHECK_F(OPTION_endless)
	PRINTL 残念ながら、ENDLESSモードでは촉수に勝つことはできません。
	PRINTL せめて正義の味方たちが苦しまずに最期を迎えられたことを祈るばかりです。
ELSE
	PRINTL この評価ということは、正義の味方らしく街を守りきったのですね。
	PRINTL 恐らくあなたたちに感謝している人々も多いはず。
	PRINTL おめでとうございます、あなたは正真正銘の英雄です！
ENDIF
PRINTW 
;資産評価
PRINTFORML 資産評価：%LOCALS:6%
IF LOCAL:6 <= 2
	PRINTL お金のことを意識せずにプレイすればこんなものでしょう。
	PRINTL 資産評価は現金のほうが好評価になるので、
	PRINTL あえて使わずに取っておくべきかもしれません。
ELSEIF LOCAL:6 == 3 || LOCAL:6 == 4
	PRINT なかなかのお金持ちですね。
	IF LOCAL:6 == 3
		PRINTFORML Ｃ評価です。
	ELSE
		PRINTFORML Ｂ評価です。
	ENDIF
	PRINTL 戦力に余裕があるならバイトしてみるのも手です。
	IF LOCAL:6 == 3
		PRINTFORML 特に知力の高いキャラは研究助手をするのが良いでしょう。
	ELSE
		PRINTFORML 無駄な買い物を控えれば、もっと好評価になるでしょう。
	ENDIF
ELSEIF LOCAL:6 == 5
	PRINTL かなりの大金持ちですね。ここまで来たらＳ評価を目指しましょう。
	PRINTL アイドル稼業って最初は辛いけれども、
	PRINTL 有名になればなるほど稼げる…　ハズです。
ELSE
	PRINTL ワンダフル！　これだけのお金を貯めるとは！
	PRINTL あえてお金を使わず取っておいたりなど、苦労されたかと思います。
	PRINTL そんなあなたに惜しみない賛辞を。素晴らしいです！
ENDIF
PRINTW 
IF LOCAL > GLOBAL:110
	GLOBAL:110 = LOCAL
	SAVEGLOBAL
ENDIF
IF LOCAL == 1
	PRINTL ついに…　ついに総合Ｅ評価が出てしまいましたか…
	PRINTL これを見ているアナタは엉터리 대마왕を名乗る義務があります。
	IF LASTLOAD_VERSION == -1
		PRINTL と思ったら、セーブ＆ロードなし…だと！？
		PRINTL やるじゃねぇか旦那ァ、見直したぜッ！！！！
	ELSE
		PRINTL な…　何かの間違いですよね？　…もしや確信犯ではありませんか？
	ENDIF
	PRINTW 
	CALL UNLOCK_ACHIEVEMENT(212,"엉터리 대마왕")
ELSEIF LOCAL == 6
	PRINTL ついに…　ついに総合Ｓ評価が出ましたか！
	PRINTL これを見ているアナタはGVTマスターを名乗る資格があります。
	IF LASTLOAD_VERSION == -1
		PRINTL おまけにセーブ＆ロードなし…だと！？
		PRINTL そのリセットしない姿勢に感服致します！　おめでとうございます！！！
	ELSE
		PRINTL 何とも素晴らしい！　おめでとうございます！
	ENDIF
	PRINTL 
	PRINTL ブラボーハラショーッ！
	PRINTW 
	CALL UNLOCK_ACHIEVEMENT(213,"eraGVT 마스터")
ELSE
	IF LASTLOAD_VERSION == -1
		PRINTL な、なんと…なんとなんと！！
		PRINTL アナタ、セーブ＆ロードしてませんね！！
		PRINTL こいつはぁたまげた！！！
		PRINTL 
		PRINTL そのリセットしない姿勢に感服致します！　おめでとうございます！
	ELSE
		PRINTL 以上、コメントコーナーでした。役に立つヒントはありましたか？
		PRINTL ぜひとも次のプレイでまたお会いしましょう！
	ENDIF
ENDIF
IF LASTLOAD_VERSION == -1
	CALL UNLOCK_ACHIEVEMENT(211,"패자(覇者)의 증표")
ENDIF
PRINTW 
;各モードクリア回数の記録
IF GAME_MODE_CHECK_F() == MODE_SOLO
	GLOBAL:100 ++
ELSEIF GAME_MODE_CHECK_F() == MODE_NORMAL
	GLOBAL:101 ++
ELSEIF GAME_MODE_CHECK_F() == MODE_HARDCORE
	GLOBAL:102 ++
ENDIF
SAVEGLOBAL
;次周に向けて周回累積数を加算
FLAG:854 ++
RETURN LOCAL





