;**********************************************************
;ショップ画面のインフォメーション表示
@SHOP_INFOMATION
#DIM CCOUNT

LOCAL = 0

;行動に必要な체력などのチェック
FOR CCOUNT, 0, CHARANUM
	SIF CCOUNT == MASTER
		CONTINUE
	IF CFLAG:CCOUNT:0 == 상태_건강
		CALL CHECK_ACTION(CFLAG:CCOUNT:100, CCOUNT)
		IF RESULT > 0
			LOCAL = 1
			IF GETBIT(RESULT, 6)
				PRINTFORML *%CALLNAME:CCOUNT%は廃人化しているため、休憩以外の行動ができません
			ELSEIF GETBIT(RESULT, 5)
				PRINTFORML *%CALLNAME:CCOUNT%は사지결손しているため、%PRINT_SHOPACTION_NAME(CCOUNT)%ができません
			ELSEIF GETBIT(RESULT, 4)
				PRINTFORML *%CALLNAME:CCOUNT%は임신中なので、%PRINT_SHOPACTION_NAME(CCOUNT)%ができません
			ELSEIF GETBIT(RESULT, 1)
				PRINTFORML *%CALLNAME:CCOUNT%は「밤악마의귀족」なため、昼間は%PRINT_SHOPACTION_NAME(CCOUNT)%ができません
			ELSEIF GETBIT(RESULT, 2)
				PRINTFORML *%CALLNAME:CCOUNT%は「타고난전사」なため、%PRINT_SHOPACTION_NAME(CCOUNT)%ができません
			ELSEIF GETBIT(RESULT, 0)
				PRINTFORML *%CALLNAME:CCOUNT%は%PRINT_SHOPACTION_NAME(CCOUNT)%に必要な체력がありません
			ENDIF
		ENDIF
	ENDIF
NEXT


