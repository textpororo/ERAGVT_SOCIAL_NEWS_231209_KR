;ページ遷移のたびにスタックが積みあがってしまっている…

;--------------------------------------------------
;스테이터스 표시のベース
@SHOW_STATUS_CHARA_SELECT ,ARG
#DIM LCOUNT
#DIM PAGE=1

;page4
	#DIM PAPA
	#DIM MAMA
;page5
	#DIM B_SIZE
	#DIM W_SIZE
	#DIM H_SIZE


REDRAW 0
$REPRINT
	CALL LB
	DRAWLINE
SELECTCASE PAGE
CASE 1
	PRINTL 　　　　　　　　　　　　　　　　　基本스테이터스情報　　　　　　　　　　　　　　PAGE(1/5)
	DRAWLINE
	;通常の스테이터스 표시
	CALL SHOW_STATUS_BASE_DISPSTATUS, ARG
	CALL SHORTLINE
	CALL SHOW_STATUS_BASE_STATUSINFO, ARG
	CALL SHOW_STATUS_SENGI, ARG
	IF TALENT:ARG:C결계 + TALENT:ARG:V결계 + TALENT:ARG:A결계 + TALENT:ARG:B결계 + TALENT:ARG:피임결계
		PRINTL 
		CALL SHORTLINE
	ENDIF
	CALL SHOW_STATUS_SHIELD, ARG
	IF CFLAG:ARG:32 > 0
		PRINTL 
		CALL SHORTLINE
	ENDIF
	CALL SHOW_STATUS_TATTOO, ARG
	PRINTL 
	CALL SHORTLINE
	CALL SHOW_STATUS_CLOTH, ARG
	DRAWLINE
	PRINTL
	PRINT  [1][前ページ]　　
	SETCOLORBYNAME CYAN
	PRINT [1000]戦闘　
	RESETCOLOR
	PRINT [2000]素質　
	PRINT [3000]武器　
	PRINT [4000]相関　
	PRINT [5000]個人　
	PRINTL 　[2][次ページ]

	PRINT  [999] 돌아간다　　　　　
	SIF FLAG:700 > 0
		SETCOLOR 128,128,128
		PRINT 　[100] 이전 캐릭터　　　　　　　　　　
		PRINT [200] 다음 캐릭터
	PRINTL 
	RESETCOLOR
	INPUT
	IF RESULT == 999
		RETURN 999
	ELSEIF RESULT == 0
		IF CFLAG:ARG:6 == 0
			CFLAG:ARG:6 = 1
		ELSEIF CFLAG:ARG:6 == 1
			CFLAG:ARG:6 = 2
		ELSEIF CFLAG:ARG:6 == 2
			CFLAG:ARG:6 = 3
			TALENT:ARG:주관시점 = 1
		ELSEIF CFLAG:ARG:6 == 3
			CFLAG:ARG:6 = 4
			TALENT:ARG:주관시점 = 0
		ELSEIF CFLAG:ARG:6 == 4
			CFLAG:ARG:6 = -2
		ELSEIF CFLAG:ARG:6 == NO:ARG
			CFLAG:ARG:6 = 0
		ELSE
			CFLAG:ARG:6 = NO:ARG
		ENDIF
		GOTO REPRINT
	ELSEIF RESULT == 1
		PAGE=5
	ELSEIF RESULT == 2
		PAGE=2
	ELSEIF INRANGE(RESULT,1000,5000)
		PAGE=RESULT/1000
		GOTO REPRINT
	ELSEIF RESULT == 10
		IF TALENT:ARG:주관시점 == 1
			PRINTL 現在『主観モード』を使用中です
			PRINTL [0]変更しない
			PRINTL [1]主観モードを終了する
			INPUT
			IF RESULT == 1
				TALENT:ARG:주관시점 = 0
				PRINTW 地の文を変更しました
			ENDIF
		ELSE
			PRINTL ※地の文をより主観的な描写に変更します
			PRINTL 　この設定は個別に適用されます
			PRINTL [0]使用しない
			PRINTL [1]使用する
			INPUT
			IF RESULT == 1
				TALENT:ARG:주관시점 = 1
				PRINTW 地の文を変更しました
			ENDIF
		ENDIF
		GOTO REPRINT
	ELSEIF RESULT == 11 && FLAG:700 == 0
		;キャラの呼び名の設定
		CALL FIRSTSETTING_CHARA_CALLNAME, ARG
		GOTO REPRINT
	ELSEIF RESULT == 12 && FLAG:700 == 0
		CALL FIRSTSETTING_CHARA_SELFCALL, ARG
		GOTO REPRINT
	ELSEIF RESULT == 13 && TALENT:ARG:변신능력 == 1 && FLAG:700 == 0
		LCOUNT = LINECOUNT
		$LOOP_12
		PRINTFORML 変更する項目を選択してください
		CALL SHORTLINE
		PRINTFORML [0]　変身後名・・・・・・\@(CFLAG:ARG:2 == 1) ?・『%CSTR:ARG:0%』#・ なし\@
		PRINTFORML [1]　変身後呼び名・・・・\@(CFLAG:ARG:3 == 1) ?・『%CSTR:ARG:1%』#・ なし\@
		PRINTFORML [2]　変身時かけ声・・・・\@(CFLAG:ARG:4 == 1) ?・『%CSTR:ARG:2%』#・ なし\@
		PRINTFORML [3]　変身後名乗り구상・・\@(CFLAG:ARG:5 == 1) ?・『%CSTR:ARG:3%』#・ なし\@
		PRINTL 
		PRINTFORML [99] 戻る
		$INPUT_LOOP_12
		INPUT
		IF RESULT == 0
			;キャラの変身後名前の設定
			CALL FIRSTSETTING_CHARA_TRANSAFTERNAME, ARG
		ELSEIF RESULT == 1
			;キャラの変身後呼び名の設定
			IF CFLAG:ARG:2 == 1
				;キャラの変身後呼び名플래그를 세운다
				CFLAG:ARG:3 = 1
				CALL FIRSTSETTING_CHARA_TRANSAFTERCALLNAME, ARG
			ENDIF
		ELSEIF RESULT == 2
			;キャラの変身時のかけ声の設定
			CALL FIRSTSETTING_CHARA_TRANSCALL, ARG
		ELSEIF RESULT == 3
			;キャラの名乗り구상の設定
			CALL FIRSTSETTING_CHARA_NANORI, ARG
		ELSEIF RESULT == 99
			GOTO REPRINT
		ELSE
			GOTO INPUT_LOOP_12
		ENDIF
		CLEARLINE LINECOUNT - LCOUNT
		GOTO LOOP_12
		
	ELSEIF RESULT == 100 && FLAG:700 == 0
		ARG --
		SIF ARG == 0
			ARG=CHARANUM-1
		GOTO REPRINT
	ELSEIF RESULT == 200 && FLAG:700 == 0
		ARG ++
		SIF ARG==CHARANUM
			ARG=1
		GOTO REPRINT
	ELSE
		PRINTL 
		PRINTL 올바른 값을 입력해 주십시오.
		GOTO REPRINT
	ENDIF

CASE 2
	;--------------------------------------------------
	;스테이터스 표시のベース（2ページ目）
	PRINTL 　　　　　　　　　　　　　　　　　　素質・性成長　　　　　　　　　　　　　　　　PAGE(2/5)
	DRAWLINE
	PRINTFORML 氏名　：%NAME:(ARG:0)%
	PRINTFORML 呼び名：%CALLNAME:(ARG:0)%
	PRINTFORML 一人称：%SELF_CALL(0, 0, ARG:0)%
	PRINTFORML 레벨：Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	CALL SHORTLINE
	CALL SHOW_STATUS_TALENT, ARG, 0, 1
	CALL SHORTLINE
	CALL SHOW_STATUS_ABL, ARG
	PRINTL 
	CALL SHORTLINE
	CALL SHOW_STATUS_MARK, ARG
	PRINTL 
	CALL SHORTLINE
	CALL SHOW_STATUS_EXP, ARG
	;珠の表示はデバッグ用
	IF FLAG:999 == 1
		PRINTL 
		CALL SHORTLINE
		CALL SHOW_STATUS_JUEL, ARG
	ENDIF
	PRINTL 
	DRAWLINE
	PRINTPLAIN 　
	PRINTKL [0]キャラクターデータの書き出し　　
	PRINT  [1][前ページ]　　
	PRINT [1000]戦闘　
	SETCOLORBYNAME CYAN
	PRINT [2000]素質　
	RESETCOLOR
	PRINT [3000]武器　
	PRINT [4000]相関　
	PRINT [5000]個人　
	PRINTL 　[2][次ページ]

	PRINT  [999] 돌아간다　　　　　
	SIF FLAG:700 > 0
		SETCOLOR 128,128,128
		PRINT 　[100] 이전 캐릭터　　　　　　　　　　
		PRINT [200] 다음 캐릭터
	PRINTL 
	RESETCOLOR
	INPUT
	IF RESULT == 999
		RETURN 999
	ELSEIF RESULT == 0
		TARGET = ARG
		CALL EXPORT_CSV
	ELSEIF RESULT == 1
		PAGE=1
	ELSEIF RESULT == 2
		PAGE=3
	ELSEIF INRANGE(RESULT,1000,5000)
		PAGE=RESULT/1000
		GOTO REPRINT
	ELSEIF RESULT == 100 && FLAG:700 == 0
		ARG --
		SIF ARG == 0
			ARG=CHARANUM-1
		GOTO REPRINT
	ELSEIF RESULT == 200 && FLAG:700 == 0
		ARG ++
		SIF ARG==CHARANUM
			ARG=1
		GOTO REPRINT
	ELSE
		PRINTL 
		PRINTL 올바른 값을 입력해 주십시오.
		GOTO REPRINT
	ENDIF

	;--------------------------------------------------
	;스테이터스 표시のベース（3ページ目）
CASE 3
	PRINTL 　　　　　　　　　　　　　　　　　武器カスタマイズ　　　　　　　　　　　　　　　PAGE(3/5)
	DRAWLINE
	PRINTFORML 氏名　：%NAME:(ARG:0)%
	PRINTFORML 呼び名：%CALLNAME:(ARG:0)%
	PRINTFORML 一人称：%SELF_CALL(0, 0, ARG:0)%
	PRINTFORML 레벨：Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	CALL SHORTLINE
	CALL SHOW_WEAPON_EDIT,ARG,1
	CALL SHORTLINE
	CALL SHOW_WEAPON_EDIT,ARG,2
	CALL SHORTLINE
	CALL SHOW_WEAPON_EDIT,ARG,3
	PRINTL 
	DRAWLINE
	IF CFLAG:ARG:0 != 상태_건강 || FLAG:700
		SETCOLOR 105,105,105
		PRINTPLAIN [0]武器カスタマイズ画面に移動　　　
		RESETCOLOR
	ELSE
		PRINT [0]武器カスタマイズ画面に移動　　　
	ENDIF
	PRINTL
	PRINT  [1][前ページ]　　
	PRINT [1000]戦闘　
	PRINT [2000]素質　
	SETCOLORBYNAME CYAN
	PRINT [3000]武器　
	RESETCOLOR
	PRINT [4000]相関　
	PRINT [5000]個人　
	PRINTL 　[2][次ページ]
	PRINT  [999] 돌아간다　　　　　　

	SIF FLAG:700 > 0
		SETCOLOR 128,128,128
		PRINT [100] 이전 캐릭터　　　　　　　　　　
		PRINT [200] 다음 캐릭터
	PRINTL 
	RESETCOLOR
	INPUT
	IF RESULT == 999
		RETURN 999
	ELSEIF RESULT == 0 && CFLAG:ARG:0 == 상태_건강 && FLAG:700 == 0
		CALL WEAPON_CUSTOMIZE, ARG
		GOTO REPRINT
	ELSEIF RESULT == 1
		PAGE=2
	ELSEIF RESULT == 2
		PAGE=4
	ELSEIF INRANGE(RESULT,1000,5000)
		PAGE=RESULT/1000
		GOTO REPRINT
	ELSEIF RESULT == 100 && FLAG:700 == 0
		ARG --
		SIF ARG == 0
			ARG=CHARANUM-1
		GOTO REPRINT
	ELSEIF RESULT == 200 && FLAG:700 == 0
		ARG ++
		SIF ARG==CHARANUM
			ARG=1
		GOTO REPRINT
	ELSE
		PRINTL 
		PRINTL 올바른 값을 입력해 주십시오.
		GOTO REPRINT
	ENDIF

	;--------------------------------------------------
	;스테이터스 표시のベース（4ページ目）
CASE 4
	PRINTL 　　　　　　　　　　　　　　　　　キャラクター相関　　　　　　　　　　　　　　　PAGE(4/5)
	DRAWLINE
	PRINTFORML 氏名　：%NAME:(ARG:0)%
	PRINTFORML 呼び名：%CALLNAME:(ARG:0)%
	PRINTFORML 一人称：%SELF_CALL(0, 0, ARG:0)%
	PRINTFORML 레벨：Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	LOCALS = \@ISMALE(ARG:0) ? 男 # 女\@
	PRINTFORML 性別　：%LOCALS%
	CALL SHORTLINE
	LCOUNT = 0
	FOR LOCAL, 0, CHARANUM
		SIF LOCAL == MASTER
			CONTINUE
		SIF LOCAL == ARG:0
			CONTINUE
		IF RELATION:(ARG:0):LOCAL
			CALL GET_RELATION, ARG:0, LOCAL
			PRINTFORML 　({LOCAL, 2,RIGHT})　%NAME:LOCAL%　→　%RESULTS%
			LCOUNT ++
		ENDIF
	NEXT
	IF LCOUNT == 0
		PRINTL 　　　相関関係のあるキャラ：なし
		LCOUNT ++
	ENDIF
	IF CFLAG:(ARG:0):120 > 0 || CFLAG:(ARG:0):121 > 0 || CFLAG:(ARG:0):122 > 0
		PRINTL 
		PRINTL 　　　コネクション：
		LCOUNT += 2
	ENDIF
	;コネクション関係
	IF CFLAG:(ARG:0):120 == 1
		PRINTL 　　　　　　噂好きな친구
		LCOUNT ++
	ENDIF
	IF CFLAG:(ARG:0):121 == 1
		PRINTL 　　　　　　경찰관계자
		LCOUNT ++
	ELSEIF CFLAG:(ARG:0):121 == 2
		PRINTL 　　　　　　警察上層部
		LCOUNT ++
	ENDIF
	IF CFLAG:(ARG:0):122 > 0
		PRINT 　　　　　　정보원(
		IF GETBIT(CFLAG:(ARG:0):122, 2) && GETBIT(CFLAG:(ARG:0):122, 3)
			PRINT 無法者
		ELSEIF GETBIT(CFLAG:(ARG:0):122, 2) && GETBIT(CFLAG:(ARG:0):122, 4)
			PRINT お調子者な男
		ELSEIF GETBIT(CFLAG:(ARG:0):122, 3) && GETBIT(CFLAG:(ARG:0):122, 4)
			PRINT 老紳士
		ELSEIF GETBIT(CFLAG:(ARG:0):122, 2)
			PRINT 천박한 남자
		ELSEIF GETBIT(CFLAG:(ARG:0):122, 3)
			PRINT 고상함な男
		ELSEIF GETBIT(CFLAG:(ARG:0):122, 4)
			PRINT 探偵風の男
		ELSE
			PRINT 特徴の無い男
		ENDIF
		PRINTL )
		LCOUNT ++
	ENDIF
	IF CFLAG:(ARG:0):123 == 1
		PRINTL 　　　　　　유복한친정
		LCOUNT ++
	ENDIF

	FOR LOCAL, 0, 20 - LCOUNT
		PRINTL 
	NEXT
	IF RELATION:(ARG:0):(ARG:0) > 0
		CALL SHORTLINE
		PRINT 　血統　(
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), 혈통불명)
			PRINT 　？？？
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｃ촉수)
			PRINT 　C촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｖ촉수)
			PRINT 　Ｖ촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ａ촉수)
			PRINT 　Ａ촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｂ촉수)
			PRINT 　Ｂ촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｓ촉수)
			PRINT 　Ｓ촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｐ촉수)
			PRINT 　Ｐ촉수
		SIF GETBIT(RELATION:(ARG:0):(ARG:0), Ｈ촉수)
			PRINT 　Ｈ촉수
		PRINTL 　)
	ELSE
		PRINTL 
	ENDIF
	IF CFLAG:(ARG:0):7 || CFLAG:(ARG:0):9
		CALL SHORTLINE
	ELSE
		PRINTL 
	ENDIF
	PAPA = 0
	MAMA = 0
	IF CFLAG:(ARG:0):9 <= -100
		FOR LOCAL, 0, CHARANUM
			SIF LOCAL == MASTER
				CONTINUE
			SIF LOCAL == ARG:0
				CONTINUE
			SIF CFLAG:LOCAL:240 == CFLAG:(ARG:0):9 * -1 - 100
				PAPA = LOCAL
		NEXT
	ENDIF
	IF CFLAG:(ARG:0):7 > 0
		FOR LOCAL, 0, CHARANUM
			SIF LOCAL == MASTER
				CONTINUE
			SIF LOCAL == ARG:0
				CONTINUE
			SIF CFLAG:LOCAL:240 == CFLAG:(ARG:0):7
				MAMA = LOCAL
		NEXT
	ENDIF
	IF PAPA > 0
		PRINTFORM 　実父　:　%NAME:PAPA% 
		SIF CFLAG:PAPA:34 > 0
			PRINTFORM ({BASE:PAPA:실제나이})
		IF GETBIT(RELATION:PAPA:MAMA,부모자식) || GETBIT(RELATION:PAPA:MAMA,형제자매) || GETBIT(RELATION:PAPA:MAMA,조부모손주) || GETBIT(RELATION:PAPA:MAMA,아저씨아줌마) || GETBIT(RELATION:PAPA:MAMA,조카조카딸)
			PRINT 　　(
			IF GETBIT(RELATION:PAPA:MAMA,부모자식)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 娘
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 母
				ENDIF
				SIF GETBIT(RELATION:PAPA:MAMA,형제자매) || GETBIT(RELATION:PAPA:MAMA,조부모손주) || GETBIT(RELATION:PAPA:MAMA,아저씨아줌마) || GETBIT(RELATION:PAPA:MAMA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:PAPA:MAMA,형제자매)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 妹
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 姉
				ENDIF
				SIF GETBIT(RELATION:PAPA:MAMA,조부모손주) || GETBIT(RELATION:PAPA:MAMA,아저씨아줌마) || GETBIT(RELATION:PAPA:MAMA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:PAPA:MAMA,조부모손주)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 孫
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 祖母
				ENDIF
				SIF GETBIT(RELATION:PAPA:MAMA,아저씨아줌마) || GETBIT(RELATION:PAPA:MAMA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:PAPA:MAMA,아저씨아줌마)
					PRINT おば
			ELSEIF GETBIT(RELATION:PAPA:MAMA,조카조카딸)
					PRINT 姪
			ENDIF
			PRINT との근친상간)
		ENDIF
	ELSEIF CFLAG:(ARG:0):9 > 0
		IF CFLAG:(ARG:0):9 < 100
				TRYCALLFORM TENTACLE_BOSS_{CFLAG:(ARG:0):9}_GETNAME
		ELSEIF CFLAG:(ARG:0):9 < 200
				TRYCALLFORM TENTACLE_LASTBOSS_{CFLAG:(ARG:0):9 - 100}_GETNAME
		ELSEIF CFLAG:(ARG:0):9 == 200
				RESULTS = 雑魚촉수
		ELSE
				TRYCALLFORM TENTACLE_MOB_{CFLAG:(ARG:0):9 - 200}_GETNAME
		ENDIF
		PRINTFORM 　実父　:　%RESULTS%
	ELSEIF CFLAG:(ARG:0):9 == -100
		PRINTFORM 　実父　:　쌩판남
	ENDIF
	PRINTL 
	IF MAMA > 0
		PRINTFORM 　実母　:　%NAME:MAMA% 
		SIF CFLAG:MAMA:34 > 0
			PRINTFORM ({BASE:MAMA:실제나이})
		IF GETBIT(RELATION:MAMA:PAPA,부모자식) || GETBIT(RELATION:MAMA:PAPA,형제자매) || GETBIT(RELATION:MAMA:PAPA,조부모손주) || GETBIT(RELATION:MAMA:PAPA,아저씨아줌마) || GETBIT(RELATION:MAMA:PAPA,조카조카딸)
			PRINT 　　(
			IF GETBIT(RELATION:MAMA:PAPA,부모자식)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 息子
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 父
				ENDIF
				SIF GETBIT(RELATION:MAMA:PAPA,형제자매) || GETBIT(RELATION:MAMA:PAPA,조부모손주) || GETBIT(RELATION:MAMA:PAPA,아저씨아줌마) || GETBIT(RELATION:MAMA:PAPA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:MAMA:PAPA,형제자매)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 弟
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 兄
				ENDIF
				SIF GETBIT(RELATION:MAMA:PAPA,조부모손주) || GETBIT(RELATION:MAMA:PAPA,아저씨아줌마) || GETBIT(RELATION:MAMA:PAPA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:MAMA:PAPA,조부모손주)
				IF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 > CFLAG:MAMA:240) || BASE:PAPA:실제나이 < BASE:MAMA:실제나이
					PRINT 孫
				ELSEIF (BASE:PAPA:실제나이 == BASE:MAMA:실제나이 && CFLAG:PAPA:240 < CFLAG:MAMA:240) || BASE:PAPA:실제나이 > BASE:MAMA:실제나이
					PRINT 祖父
				ENDIF
				SIF GETBIT(RELATION:MAMA:PAPA,아저씨아줌마) || GETBIT(RELATION:MAMA:PAPA,조카조카딸)
					PRINT /
			ENDIF
			IF GETBIT(RELATION:MAMA:PAPA,아저씨아줌마)
					PRINT おじ
			ELSEIF GETBIT(RELATION:MAMA:PAPA,조카조카딸)
					PRINT 甥
			ENDIF
			PRINT との근친상간)
		ENDIF
	ENDIF
	PRINTL 
	DRAWLINE
	PRINT  [1][前ページ]　　
	PRINT [1000]戦闘　
	PRINT [2000]素質　
	PRINT [3000]武器　
	SETCOLORBYNAME CYAN
	PRINT [4000]相関　
	RESETCOLOR
	PRINT [5000]個人　
	PRINTL 　[2][次ページ]
	PRINT  [999] 돌아간다　　　　　　
	SIF FLAG:700 > 0
		SETCOLOR 128,128,128
		PRINT [100] 이전 캐릭터　　　　　　　　　　
		PRINT [200] 다음 캐릭터
	PRINTL 
	RESETCOLOR
	INPUT
	IF RESULT == 999
		RETURN 999
	ELSEIF RESULT == 0 && CFLAG:ARG:0 == 상태_건강 && FLAG:700 == 0
		CALL WEAPON_CUSTOMIZE, ARG
		GOTO REPRINT
	ELSEIF RESULT == 1
		PAGE=3
	ELSEIF RESULT == 2
		PAGE=5
	ELSEIF INRANGE(RESULT,1000,5000)
		PAGE=RESULT/1000
		GOTO REPRINT
	ELSEIF RESULT == 100 && FLAG:700 == 0
		ARG --
		SIF ARG == 0
			ARG=CHARANUM-1
		GOTO REPRINT
	ELSEIF RESULT == 200 && FLAG:700 == 0
		ARG ++
		SIF ARG==CHARANUM
			ARG=1
		GOTO REPRINT
	ELSE
		PRINTL 
		PRINTL 올바른 값을 입력해 주십시오.
		GOTO REPRINT
	ENDIF

	;--------------------------------------------------
	;스테이터스 표시のベース（5ページ目）
CASE 5

	SIF CFLAG:1
		LOCAL = 1
	CALL CONVERT_COLORCSTR, ARG
	CALL CONVERT_AGE, ARG
	PRINTL 　　　　　　　　　　　　　　キャラクタープロフィール　　　　　　　　　　　　　　PAGE(5/5)
	DRAWLINE
	PRINTFORML 氏名　：%NAME:(ARG:0)%
	PRINTFORML 呼び名：%CALLNAME:(ARG:0)%
	PRINTFORML 一人称：%SELF_CALL(0, 0, ARG:0)%
	PRINTFORML 레벨：Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	LOCALS = \@ISMALE(ARG:0) ? 男 # 女\@
	PRINTFORML 性別　：%LOCALS%
	CALL SHORTLINE
	IF CFLAG:ARG:34 == 0
		PRINT 　　　　　　　　　プロフィール未設定
		FOR LOCAL:1, 0, 12
			PRINTL
		NEXT
		;拡張度컨피그フラグチェック
		IF CONFIG_CHECK_MANIAC_F(16) == 0
			FOR LOCAL:1, 0, 4
				PRINTL
			NEXT
		ENDIF
		SIF FLAG:700 > 0
			SETCOLOR 128,128,128
		PRINTL 　　　　　　　　　　　　　　　　　　　　　[20]　設定
		RESETCOLOR
	ELSEIF LOCAL:0 == 1
		PRINTL 　　　　　　　　　　　＜＜変身時＞＞
		PRINT 　ヘアスタイル　　　　　　　　　　　
		PRINTFORML %MAXBASE:ARG:나이 != BASE:ARG:실제나이 ? "実" # "　"%나이：{BASE:ARG:실제나이, 7} 歳
		LOCALS = 『%CSTR:ARG:12%』
		PRINTFORM 　　　　前髪：%LOCALS, 18, LEFT%
		SIF MAXBASE:ARG:나이 != BASE:ARG:실제나이
			PRINTFORM 　　　외관：{MAXBASE:ARG:나이, 7} 歳
		PRINTL 
		LOCALS = 『%CSTR:ARG:14%』
		PRINTFORML 　　　　後髪：%LOCALS, 20, LEFT%　　신장：{MAXBASE:ARG:신장 / 10, 5}.{MAXBASE:ARG:신장 % 10} cm
		PRINTFORM 　　　　　　　　　　　　　　　　　　　체중：{MAXBASE:ARG:체중 / 10, 5}.{MAXBASE:ARG:체중 % 10} kg
		IF CHARATALENT_F(ARG,0,"남자")== 0
			PRINTFORML (胸{MAXBASE:ARG:가슴무게 / 10}.{MAXBASE:ARG:가슴무게 % 10} kg)
		ELSE
			PRINTL 
		ENDIF
		PRINT 　　　髪の色：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:31
		PRINT ■
		RESETCOLOR
		CALL TOP_UNDER, ARG, 1
		CALL CUP_SIZE, RESULT + PREGNANCY_BOOB_EXPAND(ARG)
		PRINTL ]
		IF (CFLAG:ARG:1 > 0 && ISMALE(ARG) && TALENT:ARG:보추 == 0) || (CFLAG:ARG:1 == 0 && CHARATALENT_F(ARG,1,"남자") > 0 && CHARATALENT_F(ARG,1,"보추") == 0)
			PRINTFORML 　　　　　　　　　　　　　　　　　　　 Ｂ ：　（―）
		ELSE
			B_SIZE = MAXBASE:ARG:가슴둘레 + PREGNANCY_BOOB_EXPAND(ARG)
			PRINTFORM 　　　　　　　　　　　　　　　　　　　 Ｂ ：{B_SIZE / 10, 5}.{B_SIZE % 10} cm 
			SIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
				PRINTFORM (+{PREGNANCY_BOOB_EXPAND(ARG) / 10}.{PREGNANCY_BOOB_EXPAND(ARG) % 10} cm) 
			PRINTFORM (%RESULTS%)
			PRINTL 
		ENDIF

		LOCALS = 『%CSTR:ARG:18%』
		PRINTFORM 　　　目つき：%LOCALS, 20, LEFT%
		IF CHARATALENT_F(ARG,1,"남자") > 0 && CHARATALENT_F(ARG,1,"보추") == 0
			PRINTFORML 　　 Ｗ ：　（―）
		ELSE
			W_SIZE = MAXBASE:ARG:허리둘레 + PREGNANCY_BELLY_EXPAND(ARG)
			PRINTFORM 　　 Ｗ ：{W_SIZE / 10, 5}.{W_SIZE % 10} cm 
			SIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
				PRINTFORM (+{PREGNANCY_BELLY_EXPAND(ARG) / 10}.{PREGNANCY_BELLY_EXPAND(ARG) % 10} cm) 
			PRINTL 
		ENDIF
		PRINT 　　　　右目：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:34
		PRINT ■
		RESETCOLOR
		PRINT ]

		IF CHARATALENT_F(ARG,1,"남자") > 0 && CHARATALENT_F(ARG,1,"보추") == 0
			PRINTFORML 　　　　　　　　　 Ｈ ：　（―）
		ELSE
			H_SIZE = MAXBASE:ARG:골반둘레
			PRINTFORML 　　　　　　　　　 Ｈ ：{H_SIZE / 10, 5}.{H_SIZE % 10} cm
		ENDIF
		PRINT 　　　　左目：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:35
		PRINT ■
		RESETCOLOR
		PRINTFORM ]
		PRINTL 
		PRINTFORM 　　　　　　　　　　　　　　　　　　　
		SIF CHARATALENT_F(ARG,1,"왜소함") > 0
			PRINT [왜소함]
		SIF CHARATALENT_F(ARG,1,"장신") > 0
			PRINT [장신]
		SIF CHARATALENT_F(ARG,1,"絶壁") > 0
			PRINT [絶壁]
		SIF CHARATALENT_F(ARG,1,"빈유") > 0
			PRINT [빈유]
		SIF CHARATALENT_F(ARG,1,"거유") > 0
			PRINT [거유]
		SIF CHARATALENT_F(ARG,1,"폭유") > 0
			PRINT [폭유]
		SIF CHARATALENT_F(ARG,1,"초유") > 0
			PRINT [초유]
		SIF CHARATALENT_F(ARG,1,"마유") > 0
			PRINT [마유]
		SIF CHARATALENT_F(ARG,1,"기유") > 0
			PRINT [기유]
		SIF CHARATALENT_F(ARG,1,"남자") > 0 && CHARATALENT_F(ARG,0,"남자") > 0
			PRINT [남자]
		SIF CHARATALENT_F(ARG,1,"남자") > 0 && CHARATALENT_F(ARG,0,"남자") == 0
			PRINT [男性化]
		SIF CHARATALENT_F(ARG,1,"남자") == 0 && CHARATALENT_F(ARG,0,"남자") > 0
			PRINT [女体化]
		SIF CHARATALENT_F(ARG,1,"보추") > 0
			PRINT [보추]
		SIF CHARATALENT_F(ARG,1,"후타나리") > 0
			PRINT [후타나리]
		IF TALENT:ARG:임신 == 5 && CFLAG:ARG:222 < 11
			PRINT [着床]
		ELSEIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
			PRINT [임신]
		ENDIF
		PRINTFORML \@ TALENT:ARG:변신시외관 == 1 ? [安産型] #  \@\@ TALENT:ARG:변신시외관 == 2 ? [むちむち] #  \@\@ TALENT:ARG:변신시외관 == 3 ? [イカ腹] #  \@\@ TALENT:ARG:변신시외관 == 4 ? [スレンダー] #  \@\@ TALENT:ARG:변신시외관 == 5 ? [巨尻] #  \@\@ TALENT:ARG:변신시외관 == 6 ? [爆尻] #  \@

		PRINT 　　　肌の色：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:37
		PRINT ■
		RESETCOLOR
		PRINT ]
		PRINTL 
		PRINTL 　　　　　　　　　　　　　　　　　　　　　[10]　通常時
		SIF FLAG:700 > 0
			SETCOLOR 128,128,128
		PRINTL 　　　　　　　　　　　　　　　　　　　　　[20]　再設定

	ELSE
		PRINTL 　　　　　　　　　　　＜＜通常時＞＞
		PRINT 　ヘアスタイル　　　　　　　　　　　
		PRINTFORML %MAXBASE:ARG:나이 != BASE:ARG:실제나이 ? "実" # "　"%나이：{BASE:ARG:실제나이, 7} 歳
		LOCALS = 『%CSTR:ARG:12%』
		PRINTFORM 　　　　前髪：%LOCALS, 18, LEFT%
		SIF BASE:ARG:나이 != BASE:ARG:실제나이
			PRINTFORM 　　　외관：{BASE:ARG:나이, 7} 歳
		PRINTL
		LOCALS = 『%CSTR:ARG:13%』
		PRINTFORML 　　　　後髪：%LOCALS, 20, LEFT%　　신장：{BASE:ARG:신장 / 10, 5}.{BASE:ARG:신장 % 10} cm
		PRINTFORM 　　　　　　　　　　　　　　　　　　　체중：{BASE:ARG:체중 / 10, 5}.{BASE:ARG:체중 % 10} kg
		IF CHARATALENT_F(ARG,0,"남자")== 0
			PRINTFORML (胸{BASE:ARG:가슴무게 / 10}.{BASE:ARG:가슴무게 % 10} kg)
		ELSE
			PRINTL 
		ENDIF

		PRINT 　　　髪の色：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:30
		PRINT ■
		RESETCOLOR
		CALL TOP_UNDER, ARG, 0
		CALL CUP_SIZE, RESULT + PREGNANCY_BOOB_EXPAND(ARG)
		PRINTL ]
		IF CHARATALENT_F(ARG,0,"남자") > 0 && CHARATALENT_F(ARG,0,"보추") == 0
			PRINTFORML 　　　　　　　　　　　　　　　　　　　 Ｂ ：　（―）
		ELSE
			B_SIZE = BASE:ARG:가슴둘레 + PREGNANCY_BOOB_EXPAND(ARG)
			PRINTFORM 　　　　　　　　　　　　　　　　　　　 Ｂ ：{B_SIZE / 10, 5}.{B_SIZE % 10} cm 
			SIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
				PRINTFORM (+{PREGNANCY_BOOB_EXPAND(ARG) / 10}.{PREGNANCY_BOOB_EXPAND(ARG) % 10} cm) 
			PRINTFORM (%RESULTS%)
			PRINTL 
		ENDIF

		LOCALS = 『%CSTR:ARG:18%』
		PRINTFORM 　　　目つき：%LOCALS, 20, LEFT%
		IF CHARATALENT_F(ARG,0,"남자") > 0 && CHARATALENT_F(ARG,0,"보추") == 0
			PRINTFORML 　　 Ｗ ：　（―）
		ELSE
			W_SIZE = BASE:ARG:허리둘레 + PREGNANCY_BELLY_EXPAND(ARG)
			PRINTFORM 　　 Ｗ ：{W_SIZE / 10, 5}.{W_SIZE % 10} cm 
			SIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
				PRINTFORM (+{PREGNANCY_BELLY_EXPAND(ARG) / 10}.{PREGNANCY_BELLY_EXPAND(ARG) % 10} cm) 
			PRINTL 
		ENDIF
		PRINT 　　　　右目：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:32
		PRINT ■
		RESETCOLOR
		PRINT ]

		IF CHARATALENT_F(ARG,0,"남자") > 0 && CHARATALENT_F(ARG,0,"보추") == 0
			PRINTFORML 　　　　　　　　　 Ｈ ：　（―）
		ELSE
			H_SIZE = BASE:ARG:골반둘레
			PRINTFORML 　　　　　　　　　 Ｈ ：{H_SIZE / 10, 5}.{H_SIZE % 10} cm
		ENDIF
		PRINT 　　　　左目：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:33
		PRINT ■
		RESETCOLOR
		PRINTFORM ]
		PRINTL 
		PRINTFORM 　　　　　　　　　　　　　　　　　　　
		SIF CHARATALENT_F(ARG,0,"왜소함") > 0
			PRINT [왜소함]
		SIF CHARATALENT_F(ARG,0,"장신") > 0
			PRINT [장신]
		SIF CHARATALENT_F(ARG,0,"絶壁") > 0
			PRINT [絶壁]
		SIF CHARATALENT_F(ARG,0,"빈유") > 0
			PRINT [빈유]
		SIF CHARATALENT_F(ARG,0,"거유") > 0
			PRINT [거유]
		SIF CHARATALENT_F(ARG,0,"폭유") > 0
			PRINT [폭유]
		SIF CHARATALENT_F(ARG,0,"초유") > 0
			PRINT [초유]
		SIF CHARATALENT_F(ARG,0,"마유") > 0
			PRINT [마유]
		SIF CHARATALENT_F(ARG,0,"기유") > 0
			PRINT [기유]
		SIF CHARATALENT_F(ARG,0,"남자") > 0
			PRINT [남자]
		SIF CHARATALENT_F(ARG,0,"보추") > 0
			PRINT [보추]
		SIF CHARATALENT_F(ARG,0,"후타나리") > 0
			PRINT [후타나리]
		IF TALENT:ARG:임신 == 5 && CFLAG:ARG:222 < 11
			PRINT [着床]
		ELSEIF TALENT:ARG:임신 == 1 || TALENT:ARG:임신 == 3 || TALENT:ARG:임신 == 5
			PRINT [임신]
		ENDIF
		PRINTFORML \@ TALENT:ARG:외관 == 1 ? [安産型] #  \@\@ TALENT:ARG:외관 == 2 ? [むちむち] #  \@\@ TALENT:ARG:외관 == 3 ? [イカ腹] #  \@\@ TALENT:ARG:외관 == 4 ? [スレンダー] #  \@\@ TALENT:ARG:외관 == 5 ? [巨尻] #  \@\@ TALENT:ARG:외관 == 6 ? [爆尻] #  \@

		PRINT 　　　肌の色：　[
		CALL SETCOLOR_BY_STR, CSTR:ARG:36
		PRINT ■
		RESETCOLOR
		PRINTPLAIN ]
		SIF FLAG:999 == 1
			PRINT 　　　　　　　　　　　[20]　再設定
		PRINTL 
		SIF TALENT:ARG:변신능력 > 0
		PRINT 　　　　　　　　　　　　　　　　　　　　　[10]　変身時
		PRINTL 
		SIF FLAG:700 > 0
			SETCOLOR 128,128,128
		PRINTL 　　　　　　　　　　　　　　　　　　　　　[20]　再設定
	ENDIF

	IF CONFIG_CHECK_MANIAC_F(16) == 1 && CFLAG:ARG:34 > 0
		CALL SHORTLINE
		CALL PRINTFORM_GAPING_NOW, ARG, LOCAL
	ENDIF

	CALL SHORTLINE
	IF CSTR:ARG:40 != "" || CSTR:ARG:41 != "" || CSTR:ARG:42 != ""
		PRINTL 　＊＊＊　パーソナリティ ＊＊＊
	ELSE
		PRINTL 
	ENDIF
	REPEAT 3
		IF CSTR:ARG:(40 + COUNT) != ""
			PRINTFORML 　　『%CSTR:ARG:(40 + COUNT)%』
			;PRINTL 
		ELSE
			;PRINTL 
			PRINTL 
		ENDIF
	REND

	IF CONFIG_CHECK_OTHER_F(6) == 1 && (CSTR:ARG:45 != "" || CSTR:ARG:46 != "" || CSTR:ARG:47 != "" || CSTR:ARG:48 != "")
		CALL SHORTLINE
		PRINTL 　＊＊＊　裏パーソナリティ ＊＊＊
		LOCAL=0
		REPEAT 4
			IF CSTR:ARG:(45 + COUNT) != ""
				;感覚に応じて10段階で白からショッキングピンクに色変え
				SETCOLOR 255, 255 - 23 * LIMIT(ABL:ARG:(0 + COUNT), 0, 10), 255 - 11 * LIMIT(ABL:ARG:(0 + COUNT), 0, 10), 
				PRINTFORM 　　『%CSTR:ARG:(45 + COUNT)%
				PRINTFORML %UNICODE(0x2665)*LIMIT(ABL:ARG:(0 + COUNT)/2, 0, 5)%』
				RESETCOLOR
				LOCAL++
			ENDIF
		REND
		REPEAT 4-LOCAL
			PRINTL 
		REND
	ELSE
		REPEAT 6
			PRINTL 
		REND
	ENDIF

	REPEAT 2
		PRINTL 
	REND
	DRAWLINE
	PRINT  [1][前ページ]　　
	PRINT [1000]戦闘　
	PRINT [2000]素質　
	PRINT [3000]武器　
	PRINT [4000]相関　
	SETCOLORBYNAME CYAN
	PRINT [5000]個人　
	RESETCOLOR
	PRINTL 　[2][次ページ]
	PRINT  [999] 돌아간다　　　　　　
	SIF FLAG:700 > 0
		SETCOLOR 128,128,128
		PRINT [100] 이전 캐릭터　　　　　　　　　　
		PRINT [200] 다음 캐릭터
	PRINTL 
	RESETCOLOR
	INPUT
	IF RESULT == 999
		RETURN 999
	ELSEIF RESULT == 1
		PAGE=4
	ELSEIF RESULT == 2
		PAGE=1
	ELSEIF INRANGE(RESULT,1000,5000)
		PAGE=RESULT/1000
		GOTO REPRINT
	ELSEIF RESULT == 10 && TALENT:ARG:변신능력 == 1
		INVERTBIT LOCAL:0, 0
		GOTO REPRINT
	ELSEIF RESULT == 20 && FLAG:700 == 0
		;スリーサイズ等設定
		SIF CFLAG:ARG:34 == 0
			CALL GENERATE_BODYLINE, ARG
		CALL CHARA_MAKE_AGE_SETTING, ARG
		CALL CHARA_SIZE_DEFAULT, ARG
		CALL SIZE_SETTING, ARG
		GOTO REPRINT
	ELSEIF RESULT == 30 && FLAG:999 > 0
		CFLAG:ARG:35 = 0
		GOTO REPRINT
	ELSEIF RESULT == 31 && FLAG:999 > 0
		CFLAG:ARG:36 = 0
		GOTO REPRINT
	ELSEIF RESULT == 100 && FLAG:700 == 0
		VARSET LOCAL
		SIF CFLAG:1
			LOCAL = 1
		ARG --
		SIF ARG == 0
			ARG=CHARANUM-1
		GOTO REPRINT
	ELSEIF RESULT == 200 && FLAG:700 == 0
		VARSET LOCAL
		SIF CFLAG:1
			LOCAL = 1
		ARG ++
		SIF ARG==CHARANUM
			ARG=1
		GOTO REPRINT
	ELSE
		PRINTL 
		PRINTL 올바른 값을 입력해 주십시오.
		GOTO REPRINT
	ENDIF
ENDSELECT
GOTO REPRINT


;--------------------------------------------------
;基礎情報表示

;ショップ画面から呼んだ
@SHOW_STATUS_BASE_SHOP
CALL SHOW_STATUS_BASE_DETAIL, TARGET, 0

;バトル画面から呼んだ
@SHOW_STATUS_BASE_DISPBATTLE, ARG
DRAWLINE
CALL SHOW_STATUS_BASE_DETAIL, ARG, 1

;스테이터스画面から呼んだ
@SHOW_STATUS_BASE_DISPSTATUS, ARG
CALL SHOW_STATUS_BASE_DETAIL, ARG, 2

;トレーニング画面から呼んだ
@SHOW_STATUS_BASE_TRAINING, ARG
CALL SHOW_STATUS_BASE_DETAIL, ARG, 3

;----------------------------------------------------------
@SHOW_STATUS_BASE_DETAIL, ARG:0, ARG:1
#DIM CCOUNT
VARSET LOCAL, 0
;ショップ画面
IF ARG:1 == 0
	;操作可能なキャラのうち、各項目の文字数が最大になるキャラを調べる
	LOCAL:10 = CHARANUM
	FOR CCOUNT, 0, LOCAL:10
		SIF CCOUNT == MASTER
			CONTINUE
		SIF CFLAG:CCOUNT:999 == 0 && FLAG:63 == 0 && FLAG:61 == 0
			CONTINUE

		IF CFLAG:CCOUNT:0 == 상태_건강
			;LOCAL:0 キャラ名
			LOCALS = %NAME:CCOUNT%
			LOCAL:1 = STRLENS(LOCALS)
			SIF LOCAL:0 < LOCAL:1
				LOCAL:0 = LOCAL:1

			
			;LOCAL:2 체력
			LOCAL:3 = INTLEN(MAXBASE:CCOUNT:체력)
			SIF LOCAL:2 < LOCAL:3
				LOCAL:2 = LOCAL:3
			
			;LOCAL:4 기력
			LOCAL:5 = INTLEN(MAXBASE:CCOUNT:기력)
			SIF LOCAL:4 < LOCAL:5
				LOCAL:4 = LOCAL:5
			
			;LOCAL:6 성내성
			LOCAL:7 = INTLEN(MAXBASE:CCOUNT:성내성)
			SIF LOCAL:6 < LOCAL:7
				LOCAL:6 = LOCAL:7
		ENDIF
	NEXT
	
	LOCALS = %STRCLEAR()%
	;最後にTARGETしたキャラの詳細表示欄
	FOR CCOUNT, 0, LOCAL:10
		SIF FLAG:63
			BREAK
		SIF CCOUNT == MASTER
			CONTINUE
		SIF CFLAG:CCOUNT:999 == 0 && FLAG:61 == 0
			CONTINUE
		IF CFLAG:CCOUNT:0 == 상태_건강
			;操作対象のキャラかどうか
			IF CCOUNT == ARG:0
				;操作キャラは大きく表示
				DRAWLINE
				PRINTFORM ◆%NAME%(%ISFEMALE(CCOUNT)?"♀"#"♂"%)
				
				IF CSTR:CCOUNT:0 != "" && CSTR:CCOUNT:0 != NAME:CCOUNT
					PRINTFORM 《%CSTR:CCOUNT:0%》
				ENDIF

				PRINTFORM  Lv.{ABL:CCOUNT:레벨}
				IF CFLAG:99 < 20
					SETCOLOR 50, 255, 90
				ELSEIF CFLAG:99 < 50
					SETCOLOR 40, 146, 73
				ELSE
					SETCOLOR 30, 102, 36
				ENDIF
				;月経サイクル
				CALL PRINT_ESTRUS_CYCLE(CCOUNT)
				SIF CFLAG:15 > 0
					PRINTFORM [憂鬱]
				SIF CFLAG:99
					PRINTFORM [疲労 {CFLAG:CCOUNT:99}]
				SETCOLOR 255,60,255
				SIF CFLAG:241
					PRINTFORM [避妊 {CFLAG:CCOUNT:241}]
				SETCOLOR 205,60,60
				SIF CHECK_PREGNANT_F(CCOUNT) > 0
					PRINTFORM [임신]
				SETCOLOR 139,0,0
				SIF TALENT:번식자루 > 0 
					PRINTFORM [번식자루]
				SETCOLOR 170,0,0
				SIF TALENT:사지결손 > 0
					PRINTFORM [사지결손]
				RESETCOLOR
				PRINTL 
				CALLFORM COLORSENTENCE_BAR(BASENAME:0, 6, BASE:CCOUNT:체력, MAXBASE:CCOUNT:체력, 20)
				PRINTL 
				CALLFORM COLORSENTENCE_BAR(BASENAME:1, 6, BASE:CCOUNT:기력, MAXBASE:CCOUNT:기력, 20)
				PRINTL 
				CALLFORM COLORSENTENCE_BAR(BASENAME:2, 6, BASE:CCOUNT:성내성, MAXBASE:CCOUNT:성내성, 20)
				PRINTL 
				IF GAME_OPTION_CHECK_F(OPTION_solo) || CHARANUM_ACTIVE() == 1
					;ソロなら行動予定も併記
					PRINTFORML 行動予定：%PRINT_SHOPACTION(CFLAG:CCOUNT:100, 예정_없음)%
					;RESETCOLOR
				ENDIF
				CALL SHORTLINE
			ENDIF
		ENDIF
	NEXT
	;ソロモード以外では仲間一覧をリスト表示
	IF (!GAME_OPTION_CHECK_F(OPTION_solo) && CHARANUM_PLAYABLE()>=2) || FLAG:63
		;パーティキャラ一覧の表示
		FOR CCOUNT, 0, LOCAL:10
			SIF CCOUNT == MASTER
				CONTINUE
			SIF CFLAG:CCOUNT:999 == 0
				CONTINUE

			IF CFLAG:CCOUNT:0 == 상태_건강
				IF LOCAL:999 == 0
					LOCAL:999 += 1
					PRINTL 
					PRINT << 仲間 >>                                               
					IF FLAG:63
						PRINTFORML パーティ人数( {CHARANUM_PARTYCHECK(1)} / {파티인원최대치} )
					ELSE
						PRINTL
					ENDIF
				ENDIF
			
				;기력以降の表示位置を調整する
				LOCAL:101 = INTLEN(BASE:CCOUNT:체력)
				LOCAL:102 = INTLEN(MAXBASE:CCOUNT:체력)
				LOCAL:100 = LOCAL:2 * 2 - LOCAL:101 - LOCAL:102
				LOCAL:111 = INTLEN(BASE:CCOUNT:기력)
				LOCAL:112 = INTLEN(MAXBASE:CCOUNT:기력)
				LOCAL:110 = LOCAL:4 * 2 - LOCAL:111 - LOCAL:112
				LOCAL:121 = INTLEN(BASE:CCOUNT:성내성)
				LOCAL:122 = INTLEN(MAXBASE:CCOUNT:성내성)
				LOCAL:120 = LOCAL:6 * 2 - LOCAL:121 - LOCAL:122
				
				;非操作キャラは並べて表示
				IF CCOUNT == TARGET && FLAG:63 && FLAG:9 == 0
					SETCOLOR 250, 180, 50
					PRINT ◆
				ELSEIF CCOUNT == TARGET && FLAG:9 == 0
					SETCOLOR 0, 255, 150
					PRINT ◆
				ELSE
					PRINT ◇
				ENDIF
				PRINTFORM [{CCOUNT,2,RIGHT}] 
				PRINTFORM %NAME:CCOUNT, LOCAL:0, LEFT% 
				PRINTFORM %" ", 4, LEFT%
				PRINTFORM 　%PRINT_SHOPACTION(CFLAG:CCOUNT:100, 예정_없음)% 　
				RESETCOLOR

				PRINTL
				PRINTFORM %" ", 6, LEFT%

				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:0, BASE:CCOUNT:체력, MAXBASE:CCOUNT:체력, 4, LOCALS, LOCAL:100)
				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:1, BASE:CCOUNT:기력, MAXBASE:CCOUNT:기력, 4, LOCALS, LOCAL:110)
				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:2, BASE:CCOUNT:성내성, MAXBASE:CCOUNT:성내성, 4, LOCALS, LOCAL:120)



				IF CFLAG:CCOUNT:99 < 20
					SETCOLOR 50, 255, 90
				ELSEIF CFLAG:CCOUNT:99 < 50
					SETCOLOR 40, 146, 73
				ELSE
					SETCOLOR 30, 102, 36
				ENDIF
				;月経サイクル
				CALL PRINT_ESTRUS_CYCLE(CCOUNT)
				SIF CFLAG:15 > 0
					PRINTFORM [憂鬱]
				SIF CFLAG:CCOUNT:99
					PRINTFORM [疲労 {CFLAG:CCOUNT:99}]
				SETCOLOR 255,60,255
				SIF CFLAG:CCOUNT:241
					PRINTFORM [避妊 {CFLAG:CCOUNT:241}]
				SETCOLOR 205,60,60
				SIF CHECK_PREGNANT_F(CCOUNT) > 0
					PRINTFORM [임신]
				SETCOLOR 139,0,0
				SIF TALENT:번식자루 > 0 
					PRINTFORM [번식자루]
				SETCOLOR 170,0,0
				SIF TALENT:사지결손 > 0
					PRINTFORM [사지결손]
				RESETCOLOR
				PRINTL 
			ENDIF
		NEXT
		LOCAL:999 = 0
		;控えメンバーの表示
		FOR CCOUNT, 0, LOCAL:10
			SIF CCOUNT == MASTER
				CONTINUE
			SIF FLAG:63 == 0 && FLAG:61 == 0
				CONTINUE
			SIF CFLAG:CCOUNT:999 != 0
				CONTINUE

			IF GROUPMATCH(CFLAG:CCOUNT:0, 상태_건강, 상태_출산직전, 상태_육아중)
				IF LOCAL:999 == 0
					LOCAL:999 += 1
					PRINTL 
					PRINTL << 控えメンバー >>
				ENDIF
			
				;기력以降の表示位置を調整する
				LOCAL:101 = INTLEN(BASE:CCOUNT:체력)
				LOCAL:102 = INTLEN(MAXBASE:CCOUNT:체력)
				LOCAL:100 = LOCAL:2 * 2 - LOCAL:101 - LOCAL:102
				LOCAL:111 = INTLEN(BASE:CCOUNT:기력)
				LOCAL:112 = INTLEN(MAXBASE:CCOUNT:기력)
				LOCAL:110 = LOCAL:4 * 2 - LOCAL:111 - LOCAL:112
				
				;非操作キャラは並べて表示
				IF CCOUNT == TARGET && FLAG:63 && FLAG:9 == 0
					SETCOLOR 250, 180, 50
					PRINT ◆
				ELSEIF CCOUNT == TARGET && FLAG:9 == 0
					SETCOLOR 0, 255, 150
					PRINT ◆
				ELSE
					PRINT ◇
				ENDIF

				PRINTFORM [{CCOUNT,2,RIGHT}]%CALLNAME:CCOUNT, LOCAL:0, LEFT% 

				PRINTFORM 　%PRINT_SHOPACTION(CFLAG:CCOUNT:100, 예정_없음)% 　
				RESETCOLOR

				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:0, BASE:CCOUNT:체력, MAXBASE:CCOUNT:체력, 4, LOCALS, LOCAL:100)
				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:1, BASE:CCOUNT:기력, MAXBASE:CCOUNT:기력, 4, LOCALS, LOCAL:110)
				CALLFORM COLORSENTENCE_MINIBAR(BASENAME:2, BASE:CCOUNT:성내성, MAXBASE:CCOUNT:성내성, 4, LOCALS, 0)

				IF CFLAG:CCOUNT:99 < 20
					SETCOLOR 50, 255, 90
				ELSEIF CFLAG:CCOUNT:99 < 50
					SETCOLOR 40, 146, 73
				ELSE
					SETCOLOR 30, 102, 36
				ENDIF
				;月経サイクル
				CALL PRINT_ESTRUS_CYCLE(CCOUNT)
				SIF CFLAG:15 > 0
					PRINTFORM [憂鬱]
				SIF CFLAG:CCOUNT:99
					PRINTFORM [疲労 {CFLAG:CCOUNT:99}]
				SETCOLOR 255,60,255
				SIF CFLAG:CCOUNT:241
					PRINTFORM [避妊 {CFLAG:CCOUNT:241}]
				SETCOLOR 205,60,60
				SIF CHECK_PREGNANT_F(CCOUNT) > 0
					PRINTFORM [임신]
				SETCOLOR 139,0,0
				SIF TALENT:번식자루 > 0 
					PRINTFORM [번식자루]
				SETCOLOR 170,0,0
				SIF TALENT:사지결손 > 0
					PRINTFORM [사지결손]
				RESETCOLOR
				PRINTL 
			ENDIF
		NEXT
	ENDIF

;バトル画面
ELSEIF ARG:1 == 1
	PRINTL 
	LOCALS = %CFLAG:ARG:1==0 ? NAME:ARG # PRINT_TRANSNAME(ARG:0)% Lv.{ABL:(ARG:0):레벨,4,LEFT}
	STRLENS LOCALS
	LOCAL=RESULT

	LOCALS+= "性別："+(ISMALE(ARG:0) ? "男性" # (TALENT:(ARG:0):촉수의포로 ? "❤" # "女性"))+" "

	IF TALENT:(ARG:0):변신능력 == 1 && CFLAG:(ARG:0):1 == 0 && (TALENT:(ARG:0):변신시TS < 1 || GETBATTLESITUATION("奇襲") == 0)
		LOCALS += "　<<未変身>>"
	ELSEIF TALENT:(ARG:0):변신능력 == 1 && CFLAG:(ARG:0):1 == 0 && TALENT:(ARG:0):변신시TS && GETBATTLESITUATION("奇襲") && TFLAG:0 < 5
		LOCALS += "　<<未変身・準備中>>"
	ELSEIF TALENT:(ARG:0):변신능력 == 1 && CFLAG:(ARG:0):1 == 0 && TALENT:(ARG:0):변신시TS && GETBATTLESITUATION("奇襲") && TFLAG:0 >= 5
		LOCALS += "　<<未変身・準備完了>>"
	ENDIF
	PRINTFORML %LOCALS, 46,LEFT%

	PRINTFORM %" ", LOCAL,LEFT%
	CALL STATUS_PRINT_FEAT

	;--------------------------------------------------
	;キャラの性스테이터스
	CALL SHOW_TRAIN_PALAM_STATUS("上部")


	PRINTL

	PRINTFORM %"　", 46,LEFT%　距離適性：
	LOCAL:1 = TALENT:근거리특기 * 2 - TALENT:근거리서툼 * 2 - TALENT:중거리특기 - TALENT:원거리특기
	LOCAL:2 = TALENT:중거리특기 * 2 - TALENT:중거리서툼 * 2 - TALENT:근거리특기 - TALENT:원거리특기
	LOCAL:3 = TALENT:원거리특기 * 2 - TALENT:원거리서툼 * 2 - TALENT:근거리특기 - TALENT:중거리특기
	FOR LOCAL, 1, 4
		IF LOCAL:LOCAL >= 1
			LOCALS:LOCAL = ◎
		ELSEIF LOCAL:LOCAL < -2
			LOCALS:LOCAL = ×
		ELSEIF LOCAL:LOCAL < -1
			LOCALS:LOCAL = △
		ELSE
			LOCALS:LOCAL = ○
		ENDIF
	NEXT
	PRINTFORM [근거리%LOCALS:1%] [중거리%LOCALS:2%] [원거리%LOCALS:3%]
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:0, 6, BASE:(ARG:0):체력, MAXBASE:(ARG:0):체력, 20)
	PRINTPLAIN  スタイル：
	FOR LOCAL,1,4
		PRINTFORM << %FSTYLE_NAME_F(TARGET,LOCAL)% >> 
	NEXT
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:1, 6, BASE:(ARG:0):기력, MAXBASE:(ARG:0):기력, 20)
	
	;전투 지원による補正率
	CALL CALC_CHISEI_SHIEN(0)
	LOCAL:0 = RESULT
	IF ENEMY_TYPE_CHECK_F("AKUOTI")
		LOCAL:1 = MAXBASE:(FLAG:111):지성
	ELSE
		CALL TENTACLE_ACCESS, "CHISEI"
		LOCAL:1 = RESULT
	ENDIF
	LOCAL:0 = 100 * LOCAL:0 / LOCAL:1
	IF GETBATTLESITUATION("支援無効")
		SETCOLORBYNAME RED
		PRINTFORM  전투 지원効果：支援不可
		RESETCOLOR
	ELSEIF FLAG:43
		PRINTFORM  전투 지원効果：(+ {LOCAL:0}％)
	ENDIF

	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:2, 6, BASE:(ARG:0):성내성, MAXBASE:(ARG:0):성내성, 20)
	PRINTL
	;追加ゲージ
	LOCAL=0
	IF TALENT:후타나리 > 0 || (ISMALE() && TALENT:미성숙 != 1)
		CALLFORM COLORSENTENCE_BAR(BASENAME:20, 6, BASE:(ARG:0):사정, MAXBASE:(ARG:0):사정, 10)
		PRINTL
	ENDIF
	IF TALENT:모유체질 > 0
		CALLFORM COLORSENTENCE_BAR(BASENAME:21, 6, BASE:(ARG:0):모유, MAXBASE:(ARG:0):모유, 10)
		PRINTL
	ENDIF


	;衣装の耐久度表示
	CALL CLOTH_BATTLE_DISPHP
	RESETCOLOR



	IF CFLAG:1 == 2
		LOCAL:0 = 24 * (500 + (500 - TCVARn:5) * 4) / 500
		LOCAL:1 = 15 * (500 + (500 - TCVARn:5) * 4) / 500
		;PRINTFORM S.P. 　%UNICODE(0x208D)%
		PRINTFORM S.P.　

		CALL STATUS_PRINT_EX(1)
			PRINTFORM 　%UNICODE(0x208D)%
		CALL COLOR_BAR(TCVARn:5, 500, 20, 128, 128, 180, -100, LOCAL:0, LOCAL:0, LOCAL:1, 1, UNICODE(0x25AE), UNICODE(0x25AE))
		PRINTFORM %UNICODE(0x208E)%　
	ELSE
		;EXゲージ破壊済みの場合
		IF GETBATTLESITUATION("EX不可")==1
			PRINTFORM E.X.　
			CALL STATUS_PRINT_EX(2)
			PRINTFORM 　%UNICODE(0x208D)%
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*3%
			SETCOLOR 192, 64, 64
			PRINT B
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*2%
			SETCOLOR 192, 64, 64
			PRINT R
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*2%
			SETCOLOR 192, 64, 64
			PRINT E
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*2%
			SETCOLOR 192, 64, 64
			PRINT A
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*2%
			SETCOLOR 192, 64, 64
			PRINT K
			SETCOLOR 64, 64, 64
			PRINTFORM %UNICODE(0x25AE)*4%
			RESETCOLOR
			PRINTFORM %UNICODE(0x208E)%　
		ELSE
			IF TCVARn:4 < 500
				LOCAL:2 = TCVARn:4 % 100
			ELSE
				LOCAL:2 = 100
			ENDIF
			LOCAL:0 = 15 * (100 + (100 - LOCAL:2) * 3) / 100
			LOCAL:1 = 14 * (100 + (100 - LOCAL:2) * 3) / 100
			;PRINTFORM E.X.　　　%UNICODE(0x208D)%
			PRINTFORM E.X.　
			
			CALL STATUS_PRINT_EX(0)
			PRINTFORM 　%UNICODE(0x208D)%
			CALL COLOR_BAR(LOCAL:2, 100, 20, 64, 64, 80, -100 + (TCVARn:4 >= 100) * 80, LOCAL:0, LOCAL:0, LOCAL:1, 1, UNICODE(0x25AE), UNICODE(0x25AE))
			PRINTFORM %UNICODE(0x208E)%　
		ENDIF
	ENDIF

	PRINT 　
	IF GETBIT(TCVARn:3, 0)
		FONTBOLD
		SETCOLOR 255,180,0
		PRINT E
		SETCOLOR 255,120,30
		PRINT X
		FONTITALIC
		SETCOLOR 255,60,60
		PRINT 攻　
		RESETCOLOR
		FONTREGULAR
	ENDIF
	IF GETBIT(TCVARn:3, 1)
		FONTBOLD
		SETCOLOR 0,180,255
		PRINT E
		SETCOLOR 30,120,255
		PRINT X
		FONTITALIC
		SETCOLOR 60,60,255
		PRINT 防　
		RESETCOLOR
		FONTREGULAR
	ENDIF
	IF CFLAG:1 == 2 && (GETBIT(TCVARn:3, 0) || GETBIT(TCVARn:3, 1))
		PRINT SP변신時間
		SIF GETBIT(TCVARn:3, 0)
			PRINT ↓
		SIF GETBIT(TCVARn:3, 1)
			PRINT ↓
	ENDIF
	PRINTL 



	CALL STATUS_PRINT_AIRGAGE

;스테이터스画面
ELSEIF ARG:1 == 2
	PRINTFORM 氏名　：%NAME:(ARG:0), 28, LEFT%
	PRINTPLAIN 　
	PRINT [10]主観モードの変更：
	PRINTFORM \@TALENT:ARG:주관시점 > 0 ? 使用する # 使用しない \@
	PRINTL

	PRINTFORM 呼び名：%CALLNAME:(ARG:0), 28, LEFT%
	PRINTPLAIN 　
	SIF FLAG:700 > 0
		SETCOLOR 105,105,105
	PRINT [11]呼び名の変更
	RESETCOLOR
	PRINTL 

	LOCALS = %SELF_CALL(0, 0, ARG:0)%
	PRINTFORM 一人称：%LOCALS, 28, LEFT%
	PRINTPLAIN 　
	SIF FLAG:700 > 0
		SETCOLOR 105,105,105
	PRINT [12]一人称の変更
	RESETCOLOR
	PRINTL 

	LOCALS = \@ISMALE(ARG:0) ? 男 # 女\@
	PRINTFORM 性別　：%LOCALS, 28, LEFT%
	PRINTPLAIN 　
	IF CFLAG:ARG:6 == -2
		PRINT [0] 구상설정（現在：非表示）　　　　
	ELSEIF CFLAG:ARG:6 == -1
		PRINT [0] 구상설정（未教育）　　　　　　　
	ELSEIF CFLAG:ARG:6 == 0
		PRINT [0] 구상설정（現在：女性汎用）　　　
	ELSEIF CFLAG:ARG:6 == 1
		PRINT [0] 구상설정（現在：남자汎用）　　
	ELSEIF CFLAG:ARG:6 == 2
		PRINT [0] 구상설정（現在：ロボ風）　　　　
	ELSEIF CFLAG:ARG:6 == 3
		PRINT [0] 구상설정（現在：あなた）　　　　
	ELSEIF CFLAG:ARG:6 == 4
		PRINT [0] 구상설정（現在：汎用豹変）　　　
	ELSEIF NO:ARG != 0
		PRINT [0] 구상설정（現在：専用）　　　　　
	ELSE
		SETCOLOR 105,105,105
		PRINTPLAIN [0]구상설정（現在：汎用）　　　　　
		RESETCOLOR
	ENDIF
	PRINTL

	CALL SHOW_STATUS_SYUZOKU, ARG
	CALL SHOW_STATUS_SEIKAKU, ARG, 2



	IF TALENT:(ARG:0):변신능력 == 1
		CALL SHORTLINE
		PRINTFORM 【변신능력あり】
		PRINTPLAIN 　　　　　　　　　　　
		IF TALENT:(ARG:0):변신능력 == 1
			SIF FLAG:700 > 0
				SETCOLOR 105,105,105
			PRINT [13]変身後名/掛け声の設定
			RESETCOLOR
		ENDIF
		PRINTL 
		SIF CFLAG:(ARG:0):2 == 1 || CFLAG:(ARG:0):3 == 1
			PRINTFORM 　変身後名　　：
		SIF CFLAG:(ARG:0):2 == 1
			PRINTFORM %CSTR:(ARG:0):0%
		SIF CFLAG:(ARG:0):3 == 1 && CSTR:(ARG:0):0 != CSTR:(ARG:0):1
			PRINTFORM （%CSTR:(ARG:0):1%）
		SIF CFLAG:(ARG:0):2 == 1 || CFLAG:(ARG:0):3 == 1
			PRINTL 
		SIF CFLAG:(ARG:0):4 == 1
			PRINTFORML 　変身時かけ声：%CSTR:(ARG:0):2%
	ELSEIF TALENT:(ARG:0):변신능력 == -1
		CALL SHORTLINE
		PRINTFORML 【非戦闘員】
	ENDIF


	CALL SHORTLINE
	PRINTFORM 레벨：Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	;수련P表示
	PRINTFORML 　%PALAMNAME:20%：{JUEL:ARG:수련P}P

	CALLFORM COLORSENTENCE_BAR(BASENAME:0, 6, BASE:(ARG:0):체력, MAXBASE:(ARG:0):체력, 20)
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:1, 6, BASE:(ARG:0):기력, MAXBASE:(ARG:0):기력, 20)
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:2, 6, BASE:(ARG:0):성내성, MAXBASE:(ARG:0):성내성, 20)
	PRINTL

	
	LOCAL:0 = 0
	LOCAL:1 = 0
	LOCAL:2 = 0
	IF TALENT:ARG:변신능력 == 0
		PRINT 戦闘力　　
		LOCALS = %BASENAME:10%：{MAXBASE:ARG:공격,4, RIGHT}  %BASENAME:11%：{MAXBASE:ARG:방어,4, RIGHT}  %BASENAME:12%：{MAXBASE:ARG:민첩,4, RIGHT}  %BASENAME:13%：{MAXBASE:ARG:지성,4, RIGHT}
		PRINTFORM %LOCALS,46,LEFT%　　
	ELSEIF TALENT:ARG:변신능력 == 1
		LOCAL:0 = MAXBASE:ARG:공격 * CFLAG:ARG:10 / 100
		LOCAL:1 = MAXBASE:ARG:방어 * CFLAG:ARG:10 / 100
		LOCAL:2 = MAXBASE:ARG:민첩 * CFLAG:ARG:10 / 100
		LOCAL:3 = MAXBASE:ARG:지성 * CFLAG:ARG:10 / 100
		PRINT 変身前　　
		LOCALS = %BASENAME:10%：{LOCAL:0,4, RIGHT}  %BASENAME:11%：{LOCAL:1,4, RIGHT}  %BASENAME:12%：{LOCAL:2,4, RIGHT}  %BASENAME:13%：{MAXBASE:ARG:지성,4, RIGHT}
		PRINTFORM %LOCALS,46,LEFT%　　
		PRINTL 
		PRINT 変身後　　
		LOCALS = %BASENAME:10%：{MAXBASE:ARG:공격,4, RIGHT}  %BASENAME:11%：{MAXBASE:ARG:방어,4, RIGHT}  %BASENAME:12%：{MAXBASE:ARG:민첩,4, RIGHT}  %BASENAME:13%：{MAXBASE:ARG:지성,4, RIGHT}
		PRINTFORM %LOCALS,46,LEFT%　　
	ELSEIF TALENT:ARG:변신능력 == -1
		LOCAL:0 = MAXBASE:ARG:공격 * CFLAG:ARG:10 / 100
		LOCAL:1 = MAXBASE:ARG:방어 * CFLAG:ARG:10 / 100
		LOCAL:2 = MAXBASE:ARG:민첩 * CFLAG:ARG:10 / 100
		LOCAL:3 = MAXBASE:ARG:지성 * CFLAG:ARG:10 / 100
		PRINTFORM 戦闘力　　
		LOCALS = %BASENAME:10%：{LOCAL:0,4, RIGHT}  %BASENAME:11%：{LOCAL:1,4, RIGHT}  %BASENAME:12%：{LOCAL:2,4, RIGHT}  %BASENAME:13%：{MAXBASE:ARG:지성,4, RIGHT}
		PRINTFORM %LOCALS,46,LEFT%　　
	ENDIF
	PRINTL 

;トレーニング画面
ELSEIF ARG:1 == 3
	PRINTL 
	PRINTFORML %CALLNAME:(ARG:0)% Lv.{ABL:(ARG:0):레벨} （{JUEL:(ARG:0):경험치}％）
	CALLFORM COLORSENTENCE_BAR(BASENAME:0, 6, BASE:(ARG:0):체력, MAXBASE:(ARG:0):체력, 20)
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:1, 6, BASE:(ARG:0):기력, MAXBASE:(ARG:0):기력, 20)
	PRINTL 
	CALLFORM COLORSENTENCE_BAR(BASENAME:2, 6, BASE:(ARG:0):성내성, MAXBASE:(ARG:0):성내성, 20)
	PRINTL 
	PRINTFORML 戦闘力　　%BASENAME:10%：{MAXBASE:ARG:공격}  %BASENAME:11%：{MAXBASE:ARG:방어}  %BASENAME:12%：{MAXBASE:ARG:민첩}  %BASENAME:13%：{MAXBASE:ARG:지성}
	CALL SHOW_STATUS_SEIKAKU, TARGET, 1
	PRINTFORML 수련P　 　{JUEL:수련P}P
	CALL SHOW_STATUS_TALENT, TARGET, 1, 1
	CALL SHORTLINE
	PRINTFORMLC %BASENAME:0%基礎：{BASE:기초체력}
	PRINTFORMLC %BASENAME:1%基礎：{BASE:기초기력}
	PRINTFORMLC %BASENAME:2%基礎：{BASE:기초성내성}
	PRINTL 
	PRINTFORMLC %BASENAME:10%基礎：{BASE:공격}
	PRINTFORMLC %BASENAME:11%基礎：{BASE:방어}
	PRINTFORMLC %BASENAME:12%基礎：{BASE:민첩}
	PRINTL 
	PRINTFORMLC %BASENAME:13%基礎：{BASE:지성}
	PRINTL 
	IF TALENT:변신능력 != -1
		PRINTFORMLC 근거리戦技：LV.{ABL:근거리}
		PRINTFORMLC 중거리戦技：LV.{ABL:중거리}
		PRINTFORMLC 원거리戦技：LV.{ABL:원거리}
	ELSE
		PRINTFORMLC 基本戦闘技能：LV.{ABL:기초전투}
	ENDIF
	PRINTL 
	CALL SHORTLINE
ENDIF


;--------------------------------------------------
;種族表示
@SHOW_STATUS_SYUZOKU, ARG
PRINT 種族　：
CALL SYUZOKU_CHECK, "STRING", ARG
PRINTFORM %RESULTS, 46, LEFT%

;--------------------------------------------------
;性格表示
;ARG:1は見た目調整用 1=鍛錬,2=ステ画面
@SHOW_STATUS_SEIKAKU, ARG, ARG:1
LOCALS = 
IF ARG:1 == 0
	PRINTL 
	PRINT ◆性格　　
	CALL SEIKAKU_CHECK, "PRINT", ARG
	PRINTL 
ELSEIF ARG:1 == 1
	PRINT 性格    　
	CALL SEIKAKU_CHECK, "PRINT", ARG
	PRINTL 
ELSEIF ARG:1 == 2
	PRINTL 
	LOCALS += @"<nobr><nonbutton title='%TALENT_INFO(SEIKAKU_CHECK_F(ARG))%'>性格　：%TALENTNAME:(SEIKAKU_CHECK_F(ARG)),46,LEFT%</nonbutton></nobr>"
	HTML_PRINT LOCALS
ELSEIF ARG:1 == 3
	LOCALS += @"<nobr><nonbutton title='%TALENT_INFO(SEIKAKU_CHECK_F(ARG))%'>性格    %TALENTNAME:(SEIKAKU_CHECK_F(ARG))%</nonbutton></nobr>"
	HTML_PRINT LOCALS
ENDIF

;--------------------------------------------------
;基礎値表示
@SHOW_STATUS_BASE_STATUSINFO, ARG
PRINT ◆基礎値  
LOCALS = %BASENAME:0%：{BASE:ARG:기초체력+FEAT_BONUS_F(ARG,0)}  %BASENAME:1%：{BASE:ARG:기초기력+FEAT_BONUS_F(ARG,1)}  %BASENAME:2%：{BASE:ARG:기초성내성+FEAT_BONUS_F(ARG,2)} 
PRINTFORM %LOCALS,46,LEFT%
PRINTL 
PRINT           
LOCALS = %BASENAME:10%：{BASE:ARG:공격+FEAT_BONUS_F(ARG,3),4,RIGHT}  %BASENAME:11%：{BASE:ARG:방어+FEAT_BONUS_F(ARG,4),4,RIGHT}  %BASENAME:12%：{BASE:ARG:민첩+FEAT_BONUS_F(ARG,5),4,RIGHT}  %BASENAME:13%：{BASE:ARG:지성+FEAT_BONUS_F(ARG,6),4,RIGHT}
PRINTFORM %LOCALS,46,LEFT%
PRINTL 

;--------------------------------------------------
;수련P表示
@SHOW_STATUS_KEIKENP, ARG
PRINTFORM ◆%PALAMNAME:20%　 
LOCALS = {JUEL:ARG:수련P}P
PRINTFORM %LOCALS,46,LEFT%
PRINTL 

;--------------------------------------------------
;戦技表示
@SHOW_STATUS_SENGI, ARG
PRINTFORM ◆戦技Lv  
IF TALENT:ARG:변신능력 != -1
	REPEAT 3
		LOCAL = COUNT + 30
		PRINTFORM %ABLNAME:LOCAL%Lv.{ABL:ARG:LOCAL}  
	REND
ELSE
	PRINTFORM %ABLNAME:33%Lv.{ABL:ARG:33}  
ENDIF
PRINTFORM 空中Lv：{MAXBASE:ARG:공중대시}

;--------------------------------------------------
;部位結界表示
@SHOW_STATUS_SHIELD, ARG
#DIM LCOUNT
LOCALS = ◆結界　　
IF TALENT:ARG:C결계 + TALENT:ARG:V결계 + TALENT:ARG:A결계 + TALENT:ARG:B결계
	FOR LCOUNT, 0, 감각수
		IF TALENT:ARG:(LCOUNT + 190)
			PRINTFORM %LOCALS%%TALENTNAME:(LCOUNT + 190)%：
			CALL PERCENT_CAL, BASE:ARG:(LCOUNT + 30), MAXBASE:ARG:(LCOUNT + 30)
			LOCAL:0 = LIMIT(255 - RESULT * RESULT * 4 / 200, 0, 255)
			LOCAL:1 = LIMIT(-215 - RESULT * RESULT / 100 + RESULT * 5, 0, 255)
			LOCAL:2 = RESULT * 3 / 4 - 160
			IF BASE:ARG:(LCOUNT + 30) > 0
				CALL COLOR_BAR(BASE:ARG:(LCOUNT + 30),MAXBASE:ARG:(LCOUNT + 30),20,LOCAL:0,LOCAL:1,20,LOCAL:2,6,32,20,1,UNICODE(0x25AE),UNICODE(0x25AE))
			ELSE
				SETCOLOR 128, 40, 40
					PRINT 　　　붕　괴　　　　
				RESETCOLOR
			ENDIF
			FONTBOLD
			PRINTFORM  {PERCENT_CAL_F(BASE:ARG:(LCOUNT + 30),MAXBASE:ARG:(LCOUNT + 30))}％　
			FONTREGULAR
			SETCOLOR 96, 96, 96
			SIF FLAG:999 == 1
				PRINTFORM  /* debug */ {BASE:ARG:(LCOUNT + 30)} / {MAXBASE:ARG:(LCOUNT + 30)}
			RESETCOLOR
			LOCALS = 　　　  　
			LOCAL:1 = 0
			FOR LOCAL:0, LCOUNT + 1, 감각수
				SIF TALENT:ARG:(LOCAL:0 + 190)
					LOCAL:1 += 1
			NEXT
			SIF LOCAL:1
				PRINTL 
		ENDIF
	NEXT
	SIF TALENT:ARG:피임결계 > 0
		PRINTL 
ENDIF
IF TALENT:ARG:피임결계 > 0
	PRINTL 　　　　　피임결계
ENDIF

;--------------------------------------------------
;淫紋表示
@SHOW_STATUS_TATTOO, ARG
LOCAL:1 = TARGET
TARGET = ARG

CALL TATTOO_ACCESS, "POSITION_BIT"
LOCAL:2 = RESULT
IF LOCAL:2 > 0
	LOCALS = ◆淫紋
	FOR LOCAL, 0, 감각수
		IF GETBIT(LOCAL:2, LOCAL)
			SIF LOCALS != "◆淫紋"
				PRINTL 
			PRINTFORM %LOCALS%　　位置：
			SIF LOCAL == 0
				PRINT 下腹部
			SIF LOCAL == 1
				PRINT 腹部　
			SIF LOCAL == 2
				PRINT 右臀部
			SIF LOCAL == 3
				PRINT 左乳房
			PRINT 　　状態：
			LOCALS = 　　　
			CALL PRINT_TATTOO, LOCAL
		ENDIF
	NEXT

	CALL TATTOO_ACCESS, "TATTOO_TYPE", 7
	LOCAL:2 = RESULT
	FOR LOCAL, 0, 8
		IF GETBIT(LOCAL:2, LOCAL)
			PRINTL 
			PRINTFORM 　　　　　位置：
			SIF LOCAL == 0
				PRINT 額　　
			SIF LOCAL == 1
				PRINT 喉下部
			SIF LOCAL == 2
				PRINT 背中　
			SIF LOCAL == 3
				PRINT 右頬　
			SIF LOCAL == 4
				PRINT 左頬　
			SIF LOCAL == 5
				PRINT 右内股
			SIF LOCAL == 6
				PRINT 左内股
			PRINT 　　状態：
			CALL PRINT_TATTOO, 7, LOCAL
		ENDIF
	NEXT
ENDIF
TARGET = LOCAL:1

;--------------------------------------------------
;装備中の의상 표시
@SHOW_STATUS_CLOTH, ARG
PRINTL ◆衣装設定
IF TALENT:ARG:변신능력 == 1
	PRINT 【アウター】
	IF CFLAG:ARG:40 == 0
		PRINTFORML ┏なし
	ELSE
		PRINTFORML ┏%COSTUME_NAME(ARG,0)%
	ENDIF
	IF CFLAG:ARG:41 == 0
		PRINTFORML 　　　　　　┗なし
	ELSE
		PRINTFORML 　　　　　　┗%COSTUME_NAME(ARG,1)%
	ENDIF
ELSE
	PRINT 【アウター】
	IF CFLAG:ARG:40 == 0
		PRINTFORML なし
	ELSE
		PRINTFORML %COSTUME_NAME(ARG,0)%
	ENDIF

ENDIF
PRINT 【インナー】
IF CFLAG:ARG:42 == 0
	PRINTFORML なし
ELSE
	PRINTFORML %INNER_NAME(ARG)%
ENDIF
PRINT 【その他　】
IF CFLAG:ARG:43 == 0
	PRINTFORML なし
ELSE
	PRINTFORML %ITEMNAME:(CFLAG:ARG:43)%
ENDIF

;--------------------------------------------------
;素質表示 性格、변신능력、種族は省く
;ARG:1は見た目調整用 0=ステ画面, 1=鍛錬, 2=キャラメイク
;ARG:2が0でない場合はHTMLのtitleタグによってコメントが表示される
;HTML_PRINTによる解説を追加
@SHOW_STATUS_TALENT, ARG, ARG:1 = 0, ARG:2 = 0
#LOCALSIZE 1
#LOCALSSIZE 1
#DIM LCOUNT, 2
IF CONFIG_CHECK_SCREEN_F(0) == 0 || ARG:1 == 2
	IF ARG:1 == 0
		LOCALS = ◆素質
	ELSEIF ARG:1 == 2
		LOCALS = 　　所持素質：
	ELSE
		LOCALS = 素質    
	ENDIF
	IF ARG:2
		LOCALS += @"<br>"
	ELSE
		PRINTFORM %LOCALS%
		LOCALS = 
		IF ARG:1 != 1
			PRINTL 
		ENDIF
	ENDIF
	SIF ARG:1 == 2
		PRINT 　　　　　　 

	IF CFLAG:ARG:0 == 상태_유폐
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-1)%'>[幽閉中]</nonbutton>"
		ELSE
			PRINTFORM [幽閉中]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_세뇌
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-2)%'>[세뇌]</nonbutton>"
		ELSE
			PRINTFORM [세뇌]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_흑화
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-3)%'>[흑화]</nonbutton>"
		ELSE
			PRINTFORM [흑화]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_악질감금
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-4)%'>[誘拐中]</nonbutton>"
		ELSE
			PRINTFORM [誘拐監禁中]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 5
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-5)%'>[憂鬱中]</nonbutton>"
		ELSE
			PRINTFORM [憂鬱中]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_사망
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-9)%'>[死亡]</nonbutton>"
		ELSE
			PRINTFORM [死亡]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_출산직전
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-10)%'>[入院中]</nonbutton>"
		ELSE
			PRINTFORM [入院中]
		ENDIF
	ELSEIF CFLAG:ARG:0 == 상태_육아중
		IF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(-10)%'>[育児中]</nonbutton>"
		ELSE
			PRINTFORM [育児中]
		ENDIF
	ENDIF
	REPEAT 1000
		IF TALENT:ARG:COUNT > 0
			IF (COUNT >= 10 && COUNT <= 27) || (COUNT >= 200 && COUNT <= 206) || (COUNT >= 250 && COUNT <= 299) || COUNT == 400 || (COUNT >= 600 && COUNT <= 799) || (COUNT >= 800 && COUNT <= 899) || COUNT >= 900
			ELSEIF COUNT == 3 && ISMALE(ARG)
				IF ARG:2
					LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[生えてない]</nonbutton>"
				ELSE
					PRINTFORM [生えてない]
				ENDIF
			ELSEIF COUNT == 4
				IF TALENT:ARG:미성숙 == 1
					IF TALENT:ARG:인조인간 > 0 && ISFEMALE(ARG)
						IF ARG:2
							LOCALS += @"<nonbutton title='%TALENT_INFO(-999)%'>[人工子宮]</nonbutton>"
						ELSE
							PRINTFORM [人工子宮]
						ENDIF
					ENDIF
					IF ARG:2
						IF ISMALE(ARG)
							LOCALS += @"<nonbutton title='사정できない'>[미성숙]</nonbutton>"
						ELSE
							LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[미성숙]</nonbutton>"
						ENDIF
					ELSE
						PRINTFORM [미성숙]
					ENDIF
				ELSEIF TALENT:ARG:미성숙 == 2
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[不妊]</nonbutton>"
					ELSE
						PRINTFORM [不妊]
					ENDIF
				ENDIF
			ELSEIF COUNT == 110
				IF TALENT:ARG:빈유 == 2
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[絶壁]</nonbutton>"
					ELSE
						PRINTFORM [絶壁]
					ENDIF
				ELSE
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[빈유]</nonbutton>"
					ELSE
						PRINTFORM [빈유]
					ENDIF
				ENDIF
			ELSEIF COUNT == 111
				IF TALENT:ARG:거유 == 5
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[기유]</nonbutton>"
					ELSE
						PRINTFORM [기유]
					ENDIF
				ELSEIF TALENT:ARG:거유 == 4
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[마유]</nonbutton>"
					ELSE
						PRINTFORM [마유]
					ENDIF
				ELSEIF TALENT:ARG:거유 == 3
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[초유]</nonbutton>"
					ELSE
						PRINTFORM [초유]
					ENDIF
				ELSEIF TALENT:ARG:거유 == 2
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[폭유]</nonbutton>"
					ELSE
						PRINTFORM [폭유]
					ENDIF
				ELSE
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[거유]</nonbutton>"
					ELSE
						PRINTFORM [거유]
					ENDIF
				ENDIF
			ELSEIF COUNT == 159
				IF CHECK_PREGNANT_F(ARG) > 0
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[임신]</nonbutton>"
					ELSE
						PRINTFORM [임신]
					ENDIF
				ELSEIF TALENT:ARG:임신 == 5 && CFLAG:ARG:222 < 11
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[着床]</nonbutton>"
					ELSE
						PRINTFORM [着床]
					ENDIF
				ENDIF
			ELSEIF COUNT == 300
				IF TALENT:ARG:후타나리 == 3
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[天然후타나리]</nonbutton>"
					ELSE
						PRINTFORM [天然후타나리]
					ENDIF
				ELSEIF TALENT:ARG:후타나리 == 2
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[기생후타나리]</nonbutton>"
					ELSE
						PRINTFORM [기생후타나리]
					ENDIF
				ELSE
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[후타나리]</nonbutton>"
					ELSE
						PRINTFORM [후타나리]
					ENDIF
				ENDIF
			ELSEIF COUNT == 402 && TALENT:ARG:변신시TS == 0
			ELSEIF COUNT == 404 && (TALENT:ARG:변신능력 < 1 || CFLAG:ARG:1 > 0)
			ELSEIF ARG:2
				LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[%TALENTNAME:COUNT%]</nonbutton>"
			ELSE
				PRINTFORM [%TALENTNAME:COUNT%]
			ENDIF
		ELSEIF COUNT == 4
			IF TALENT:ARG:COUNT == 0 && TALENT:ARG:인조인간 > 0 && ISFEMALE(ARG)
				IF ARG:2
					LOCALS += @"<nonbutton title='%TALENT_INFO(-999)%'>[人工子宮]</nonbutton>"
				ELSE
					PRINTFORM [人工子宮]
				ENDIF
			ENDIF
			IF TALENT:ARG:미성숙 == -1 && CONFIG_CHECK_SCREEN_F(4) > 0
				IF TALENT:ARG:인조인간 > 0 && ISFEMALE(ARG)
					IF ARG:2
						LOCALS += @"<nonbutton title='%TALENT_INFO(-999)%'>[人工子宮]</nonbutton>"
					ELSE
						PRINTFORM [人工子宮]
					ENDIF
				ENDIF
				IF ARG:2
					IF ISMALE(ARG)
						LOCALS += @"<nonbutton title='薬品によって精通を迎えた'>[性徴促進]</nonbutton>"
					ELSE
						LOCALS += @"<nonbutton title='薬品によって初潮を迎えた'>[性徴促進]</nonbutton>"
					ENDIF
				ELSE
					PRINTFORM [性徴促進]
				ENDIF
			ENDIF
		ENDIF
	REND
	IF ARG:2
		LOCALS += @"<br>"
	ELSE
		PRINTL 
	ENDIF

	SIF ARG:1 == 2
		PRINT 　　　　　

	LCOUNT = 0
	REPEAT 1000
		SIF TALENT:ARG:COUNT > 0 && (COUNT >= 600 && COUNT <= 699)
			LCOUNT = 1
	REND
	IF ARG:1 != 1 && LCOUNT > 0
		IF ARG:2
			LOCALS += @"<shape type='space' param='150'>"
		ELSE
			PRINT    
		ENDIF
		REPEAT 1000
			IF TALENT:ARG:COUNT > 0 && (COUNT >= 600 && COUNT <= 699)
				IF ARG:2
					LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT)%'>[%TALENTNAME:COUNT%]</nonbutton>"
				ELSE
					PRINTFORM [%TALENTNAME:COUNT%]
				ENDIF
			ENDIF
		REND
	ENDIF

	LCOUNT:1 = 0
	REPEAT 1000
		SIF TALENT:ARG:COUNT > 0 && (COUNT >= 800 && COUNT <= 899)
			LCOUNT:1 = 1
	REND
	IF ARG:1 != 1 && LCOUNT:1 > 0
		IF ARG:2 && LCOUNT == 0
			LOCALS += @"<shape type='space' param='150'><nonbutton title='%TALENT_INFO(800)%'>"
		ELSEIF ARG:2
			LOCALS += @"<nonbutton title='%TALENT_INFO(800)%'>"
		ELSEIF LCOUNT == 0
			LOCALS += @"   "
		ENDIF
		IF TALENT:ARG:교제상대 == 1
			LOCALS += @"[짝사랑]"
		ELSEIF TALENT:ARG:교제상대 == 2
			LOCALS += @"[彼氏持ち]"
		ELSEIF TALENT:ARG:교제상대 == 3
			LOCALS += @"[婚約]"
		ELSEIF TALENT:ARG:교제상대 == 4
			LOCALS += @"[人妻]"
		ELSEIF TALENT:ARG:교제상대 == 5
			LOCALS += @"[未亡人]"
		ENDIF
		SIF ARG:2
			LOCALS += @"</nonbutton><nonbutton title='%TALENT_INFO(801)%'>"
		IF TALENT:ARG:학생 == 1
			LOCALS += @"[小학생]"
		ELSEIF TALENT:ARG:학생 == 2
			LOCALS += @"[中학생]"
		ELSEIF TALENT:ARG:학생 == 3
			LOCALS += @"[高校生]"
		ELSEIF TALENT:ARG:학생 == 4
			LOCALS += @"[大학생]"
		ENDIF
		SIF ARG:2
			LOCALS += @"</nonbutton><nonbutton title='%TALENT_INFO(810)%'>"
		IF TALENT:ARG:가족관계 == 1
			LOCALS += @"[弟持ち]"
		ELSEIF TALENT:ARG:가족관계 == 2
			LOCALS += @"[妹持ち]"
		ELSEIF TALENT:ARG:가족관계 == 3
			LOCALS += @"[兄持ち]"
		ELSEIF TALENT:ARG:가족관계 == 4
			LOCALS += @"[姉持ち]"
		ELSEIF TALENT:ARG:가족관계 == 5
			LOCALS += @"[幼い息子]"
		ELSEIF TALENT:ARG:가족관계 == 6
			LOCALS += @"[幼い娘]"
		ELSEIF TALENT:ARG:가족관계 == 7
			LOCALS += @"[年頃の息子]"
		ELSEIF TALENT:ARG:가족관계 == 8
			LOCALS += @"[年頃の娘]"
		ENDIF
		SIF ARG:2
			LOCALS += @"</nonbutton><nonbutton title='%TALENT_INFO(811)%'>"
		IF TALENT:ARG:악세서리 == 1
			LOCALS += @"[メガネっ娘]"
		ELSEIF TALENT:ARG:악세서리 == 2
			LOCALS += @"[アホ毛]"
		ELSEIF TALENT:ARG:악세서리 == 3
			LOCALS += @"[お嬢様]"
		ENDIF
		SIF ARG:2
			LOCALS += @"</nonbutton><nonbutton title='%TALENT_INFO(812)%'>"
		IF CFLAG:ARG:1 > 0
			IF TALENT:ARG:변신시외관 == 1
				LOCALS += @"[安産型]"
			ELSEIF TALENT:ARG:변신시외관 == 2
				LOCALS += @"[むちむち]"
			ELSEIF TALENT:ARG:변신시외관 == 3
				LOCALS += @"[イカ腹]"
			ELSEIF TALENT:ARG:변신시외관 == 4
				LOCALS += @"[スレンダー]"
			ELSEIF TALENT:ARG:변신시외관 == 5
				LOCALS += @"[巨尻]"
			ELSEIF TALENT:ARG:변신시외관 == 6
				LOCALS += @"[爆尻]"
			ENDIF
		ELSE
			IF TALENT:ARG:외관 == 1
				LOCALS += @"[安産型]"
			ELSEIF TALENT:ARG:외관 == 2
				LOCALS += @"[むちむち]"
			ELSEIF TALENT:ARG:외관 == 3
				LOCALS += @"[イカ腹]"
			ELSEIF TALENT:ARG:외관 == 4
				LOCALS += @"[スレンダー]"
			ELSEIF TALENT:ARG:외관 == 5
				LOCALS += @"[巨尻]"
			ELSEIF TALENT:ARG:외관 == 6
				LOCALS += @"[爆尻]"
			ENDIF
		ENDIF
		IF ARG:2
			LOCALS += @"</nonbutton><br>"
		ELSE
			PRINTFORML %LOCALS%
		ENDIF
	ELSE
		IF ARG:2
			LOCALS += @"<br>"
		ELSE
			PRINTL 
		ENDIF
	ENDIF

	SIF ARG:1 == 2
		PRINT 　　　　　　 

	LCOUNT = 0
	REPEAT 299
		SIF TALENT:ARG:(COUNT + 1000) > 0 && (COUNT >= 100 && COUNT <= 299)
			LCOUNT = 1
	REND
	IF ARG:1 != 1 && LCOUNT > 0
		IF ARG:2
			LOCALS += @"<shape type='space' param='300'>"
		ELSE
			PRINT       
		ENDIF
		REPEAT 299
			IF TALENT:ARG:(1000 + COUNT) > 0 && (COUNT >= 100 && COUNT <= 299)
				IF ARG:2
					LOCALS += @"<nonbutton title='%TALENT_INFO(COUNT + 1000)%'>[%TALENTNAME:(COUNT + 1000)%]</nonbutton>"
				ELSE
					PRINTFORM [%TALENTNAME:(COUNT + 1000)%]
				ENDIF
			ENDIF
		REND
	ENDIF
	IF ARG:2
		LOCALS += @"<br>"
	ELSE
		PRINTL 
	ENDIF
	SIF ARG:2
		HTML_PRINT LOCALS
ELSE

	IF ARG:1 == 0
		PRINTL ◆素質
	ELSE
		PRINTL 素質
	ENDIF

	;----------------	　基本　	----------------
	;0,처녀,
	;300,후타나리,
	;400,남자,
	;401,변신시TS,
	;201-249種族

	LOCALS = \@ARG:1?#　\@基本：

	IF ISMALE(ARG)
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(400)%'>[남자]</nonbutton>
	ELSEIF TALENT:ARG:후타나리 == 3
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(300)%'>[天然후타나리]</nonbutton>
	ELSEIF TALENT:ARG:후타나리 == 2
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(300)%'>[기생후타나리]</nonbutton>
	ELSEIF TALENT:ARG:후타나리 == 1
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(300)%'>[후타나리]</nonbutton>
	ELSE
		LOCALS = %LOCALS%<nonbutton title='女性であることを示す素質'>[女]</nonbutton>
	ENDIF

	SIF TALENT:ARG:보추 == 1
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(405)%'>[보추]</nonbutton>

	IF TALENT:ARG:처녀 == 2 && ISFEMALE(ARG)
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(0)%'>[聖처녀]</nonbutton>
	ELSEIF TALENT:ARG:처녀 == 1 && ISFEMALE(ARG)
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(0)%'>[처녀]</nonbutton>
	ENDIF
	SIF TALENT:ARG:초심 == 1
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(5)%'>[초심]</nonbutton>

	SIF TALENT:ARG:변신시TS > 0
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(401)%'>[변신시TS]</nonbutton>
	SIF TALENT:ARG:변신시후타나리 > 0 && TALENT:ARG:변신능력 > 0 && CFLAG:ARG:1 == 0
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(404)%'>[변신시후타나리]</nonbutton>
	SIF TALENT:ARG:여체수용 > 0
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(403)%'>[여체수용]</nonbutton>
	SIF TALENT:ARG:변신시보추 == 1
		LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(406)%'>[변신시보추]</nonbutton>
	;種族
	FOR COUNT, 201, 250
		SIF TALENT:ARG:COUNT > 0
			LOCALS = %LOCALS%<nonbutton title='%TALENT_INFO(COUNT)%'>[%TALENTNAME:COUNT%]</nonbutton>
	NEXT
	IF ARG:1==0
		CALL SEIKAKU_CHECK, "STRING", ARG
		LOCALS += "["+RESULTS+"]"
	ENDIF


	HTML_PRINT LOCALS

	;----------------	　精神　	----------------
	;301,청순파,
	SIF TALENT:ARG:청순파 == 1
		CALL PRINT_TALENT_CATEGORY, "精神", ARG:1, ARG:2, 301

	;600,내성적,
	;601,사교적,
	;602,제멋대로굼,
	;603,헌신적,
	;604,소심함,
	;605,자존심높음,
	;606,보수적,
	;607,호기심,
	;608,새드기질,
	;609,마조기질,
	;610,쾌감에솔직,
	;611,쾌감을부정,
	;612,전투거부,
	;613,싸움꾼,
	;614,수줍음,
	;615,배짱,
	;616,인간불신,
	;617,양도,
	;618,同性苦手,
	;619,異性苦手,
	;620,모성적,
	;621,소악마,
	;622,눈에띄고싶어함,
	;623,고상함,
	;624,울보,
	FOR LOCAL, 600, 650
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "精神", ARG:1, ARG:2, LOCAL
	NEXT

	;----------------	　肉体　	----------------
	;1,모유체질,
	;2,오줌싸개버릇,
	;3,백보지,
	FOR LOCAL, 1, 4
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, LOCAL
	NEXT

	;4,미성숙,
	SIF TALENT:ARG:인조인간 > 0 && TALENT:ARG:미성숙 != 2 && ISFEMALE(ARG)
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, -999
	IF TALENT:ARG:미성숙 > 0
		IF ISMALE(ARG)
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 4, 2
		ELSE
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 4, TALENT:ARG:미성숙 - 1
		ENDIF
	ELSEIF TALENT:ARG:미성숙 == -1
		IF ISMALE(ARG)
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 4, -2
		ELSE
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 4, -1
		ENDIF
	ENDIF
	
	;304놀림받는체질
	SIF TALENT:ARG:놀림받는체질 > 0 && (ISGIRLY(ARG))
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 304

	;112,젖기쉬움,
	;113,젖기어려움,
	;114,회복빠름,
	;115,회복느림,
	FOR LOCAL, 112, 116
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, LOCAL
	NEXT
	SIF TALENT:ARG:악세서리 == 1 || TALENT:ARG:악세서리 == 2
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 811, TALENT:ARG:악세서리

	;110,빈유,
	;111,거유,
	FOR LOCAL, 110, 112
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, LOCAL, TALENT:ARG:LOCAL
	NEXT

	;116,왜소함
	;117,장신
	FOR LOCAL, 116, 118
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, LOCAL
	NEXT

	;812,외관
	;813,변신시외관
	IF CFLAG:ARG:1 > 0 && TALENT:ARG:변신시외관 > 0
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 812, TALENT:ARG:변신시외관
	ELSEIF TALENT:ARG:외관 > 0
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 812, TALENT:ARG:외관
	ENDIF
	
	;900,성별변화＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾
	SIF TALENT:ARG:성별변화 == 1 || TALENT:ARG:성별변화 == 10 || TALENT:ARG:성별변화 == 11
		CALL PRINT_TALENT_CATEGORY, "肉体", ARG:1, ARG:2, 900, TALENT:ARG:성별변화

	;----------------	　性癖　	----------------
	;100,C민감,
	;101,C둔감,
	;102,V민감,
	;103,V둔감,
	;104,A민감,
	;105,A둔감,
	;106,B민감,
	;107,B둔감,
	FOR LOCAL, 100, 108
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "性癖", ARG:1, ARG:2, LOCAL
	NEXT

	;150,촉수의포로,
	;151,음란,
	;152,붕괴,
	;153,음핵,
	;154,음호,
	;155,음고,
	;156,음유,
	FOR LOCAL, 150, 157
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "性癖", ARG:1, ARG:2, LOCAL
	NEXT

	;----------------	　戦闘　	----------------
	;180,근거리특기,
	;181,근거리서툼,
	;182,중거리특기,
	;183,중거리서툼,
	;184,원거리특기,
	;185,원거리서툼,
	;186,공중전특기,
	;187,공중전서툼,
	;190,C결계,
	;191,V결계,
	;192,A결계,
	;193,B결계,
	;303,피임결계,
	FOR LOCAL, 180, 200
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "戦闘", ARG:1, ARG:2, LOCAL
	NEXT
	SIF TALENT:ARG:피임결계 > 0
		CALL PRINT_TALENT_CATEGORY, "戦闘", ARG:1, ARG:2, 303

	;----------------	　状態　	----------------

	;※CFLAG管理だ(TALENT管理ではない)がまとめて載せている
	;幽閉中
	;세뇌
	;흑화
	;死亡
	;入院中
	;育児中
		CALL PRINT_TALENT_CATEGORY, "状態", ARG:1, ARG:2, -998,CFLAG:ARG:0

	;159,임신,
	IF CHECK_PREGNANT_F(ARG) > 0
		CALL PRINT_TALENT_CATEGORY, "状態", ARG:1, ARG:2, 159, 0
	ELSEIF TALENT:ARG:임신 == 5 && CFLAG:ARG:222 < 11
		CALL PRINT_TALENT_CATEGORY, "状態", ARG:1, ARG:2, 159, 1
	ENDIF

	;160,기생,
	;161,묘상화,
	FOR LOCAL, 160, 180
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "状態", ARG:1, ARG:2, LOCAL
	NEXT

	;----------------	　社交　	----------------
	;350,소문을좋아하는친구,
	;351,경찰관계자,
	;352,정보원,
	;353,유복한친정,
	FOR LOCAL, 350, 400
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "社交", ARG:1, ARG:2, LOCAL
	NEXT

	;800,교제상대,
	SIF TALENT:ARG:교제상대 > 0
		CALL PRINT_TALENT_CATEGORY, "社交", ARG:1, ARG:2, 800, TALENT:ARG:교제상대
	;801,학생,
	SIF TALENT:ARG:학생 > 0
		CALL PRINT_TALENT_CATEGORY, "社交", ARG:1, ARG:2, 801, TALENT:ARG:학생
	;810,가족관계,
	SIF TALENT:ARG:가족관계 > 0
		CALL PRINT_TALENT_CATEGORY, "社交", ARG:1, ARG:2, 810, TALENT:ARG:가족관계
	;811,악세서리,
	SIF TALENT:ARG:악세서리 == 3
		CALL PRINT_TALENT_CATEGORY, "社交", ARG:1, ARG:2, 811, 3

	;----------------	　負傷　	----------------
	;500,멍든자국,
	;501,출혈,
	;502,화상,
	;503,골절,
	;504,내장파열,
	;505,부위결손,
	;506,자궁붕괴,
	;507,사지결손,
	;508,번식자루,
	FOR LOCAL, 500, 550
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "負傷", ARG:1, ARG:2, LOCAL
	NEXT

	;----------------	　FEAT　	----------------
	;1100,평범,
	;1101,말려드는체질,
	;1102,공세구축,
	;1103,마력저장,
	;1104,고속회피,
	;1105,신기소유자,
	;1106,투쟁본능,
	;1107,넘치는생명력,
	;1108,정령교신,
	;1109,야수의후손,
	;1110,밤악마의귀족,
	;1200,숨겨진힘,
	;1201,행운아,
	;1202,타고난전사,
	;1203,근력강화,
	;1204,날개,
	;1205,공중부유,
	;1206,소형체구,
	;1207,핫스타트,
	;1208,풀버스트,
	;1209,축복,
	;1210,불굴,
	;1211,스태미나,
	;1212,불로장수,
	;1213,지혜의극치,
	;1214,사냥꾼의직감,
	;1215,심안,
	;1216,남다른미모,
	;1217,배덕의낙인,
	;1218,에어마스터,
	FOR LOCAL, 1100, 1300
		SIF TALENT:ARG:LOCAL > 0
			CALL PRINT_TALENT_CATEGORY, "FEAT", ARG:1, ARG:2, LOCAL
	NEXT

	;----------------	終了処理	----------------
	CALL PRINT_TALENT_CATEGORY, "", ARG:1, ARG:2
ENDIF



;--------------------------------------------------
;TALENT番号を受け取り、カテゴリを確認し表示
;CATEGORY_STR	カテゴリ名　空で終了処理
;INDENT_VAR	表示元によるインデントの有無　0：あり　1：なし
;POPUP_VAR	HTML_PRINTによるポップアップの有無　0：あり　1；なし
;TALENT_VAR	表示する素質番号
;SUB_TALENT	1以外など、同素質でいくつかの種類を分ける場合のための補助変数

;PRINT_STR	表示用文字列
;SUB_STR	文字表示補助
;COUNT_VAR	その行で表示した素質数をカウント
@PRINT_TALENT_CATEGORY, CATEGORY_STR, INDENT_VAR, POPUP_VAR, TALENT_VAR, SUB_TALENT
#DIMS PRINT_STR
#DIMS SUB_STR, 2
#DIMS CATEGORY_STR, 2
#DIM INDENT_VAR
#DIM POPUP_VAR
#DIM TALENT_VAR
#DIM SUB_TALENT
#DIM COUNT_VAR

;前回呼び出されたときとカテゴリ名が違う場合、素質カウントが1以上なら表示してからリセット
IF CATEGORY_STR != CATEGORY_STR:1
	IF COUNT_VAR > 0
		IF POPUP_VAR
			HTML_PRINT PRINT_STR
		ELSE
			PRINTFORML %PRINT_STR%
		ENDIF
	ENDIF
	VARSET COUNT_VAR
	PRINT_STR = \@INDENT_VAR?#　\@%CATEGORY_STR%：
	CATEGORY_STR:1 = %CATEGORY_STR%
ENDIF

;終了処理用にカテゴリ名を空にした際ここで終了
IF CATEGORY_STR == ""
	VARSET CATEGORY_STR
	RETURN 0
ENDIF

SUB_STR:1 = %TALENT_INFO(TALENT_VAR)%

;値などによって通常の素質名を使用しない場合は個別に設定(負の値を用いる)
IF TALENT_VAR == -998
	SELECTCASE SUB_TALENT
	CASE 1
		SUB_STR:0 = 幽閉中
	CASE 2
	SUB_STR:0 = 세뇌
	CASE 3
	SUB_STR:0 = 흑화
	CASE 4
	SUB_STR:0 = 誘拐中
	CASE 9
	SUB_STR:0 = 死亡
	CASE 10
	SUB_STR:0 = 入院中
	CASE 11
	SUB_STR:0 = 育児中
	CASE 0
		SUB_STR:0 '="" 
		RETURN 0
	ENDSELECT
ELSEIF TALENT_VAR == -999
	SUB_STR:0 = 人工子宮

;미성숙
;SUB_TALENT　0：미성숙　1：不妊　2：남자による説明変更
ELSEIF TALENT_VAR == 4 && SUB_TALENT == 1
	SUB_STR:0 = 不妊
ELSEIF TALENT_VAR == 4 && SUB_TALENT == 2
	SUB_STR:0 = %TALENTNAME:TALENT_VAR%
	SUB_STR:1 = 사정できない
ELSEIF TALENT_VAR == 4 && SUB_TALENT == -1 && CONFIG_CHECK_SCREEN_F(4) > 0
	SUB_STR:0 = 性徴促進
	SUB_STR:1 = 薬品によって初潮を迎えた
ELSEIF TALENT_VAR == 4 && SUB_TALENT == -2 && CONFIG_CHECK_SCREEN_F(4) > 0
	SUB_STR:0 = 性徴促進
	SUB_STR:1 = 薬品によって精通を迎えた
;빈유
ELSEIF TALENT_VAR == 110 && SUB_TALENT == 2
	SUB_STR:0 = 絶壁
ELSEIF TALENT_VAR == 110 && SUB_TALENT == 1
	SUB_STR:0 = 빈유
;거유
ELSEIF TALENT_VAR == 111 && SUB_TALENT == 5
	SUB_STR:0 = 기유
ELSEIF TALENT_VAR == 111 && SUB_TALENT == 4
	SUB_STR:0 = 마유
ELSEIF TALENT_VAR == 111 && SUB_TALENT == 3
	SUB_STR:0 = 초유
ELSEIF TALENT_VAR == 111 && SUB_TALENT == 2
	SUB_STR:0 = 폭유
ELSEIF TALENT_VAR == 111 && SUB_TALENT == 1
	SUB_STR:0 = 거유
;임신
ELSEIF TALENT_VAR == 159 && SUB_TALENT == 1
	SUB_STR:0 = 着床
;교제상대
ELSEIF TALENT_VAR == 800
	IF SUB_TALENT == 1
		SUB_STR:0 = 짝사랑
	ELSEIF SUB_TALENT == 2
		SUB_STR:0 = 彼氏持ち
	ELSEIF SUB_TALENT == 3
		SUB_STR:0 = 婚約
	ELSEIF SUB_TALENT == 4
		SUB_STR:0 = 人妻
	ELSEIF SUB_TALENT == 5
		SUB_STR:0 = 未亡人
	ENDIF
;학생
ELSEIF TALENT_VAR == 801
	IF SUB_TALENT == 1
		SUB_STR:0 = 小학생
	ELSEIF SUB_TALENT == 2
		SUB_STR:0 = 中학생
	ELSEIF SUB_TALENT == 3
		SUB_STR:0 = 高校生
	ELSEIF SUB_TALENT == 4
		SUB_STR:0 = 大학생
	ENDIF
;가족관계
ELSEIF TALENT_VAR == 810
	IF SUB_TALENT == 1
		SUB_STR:0 = 弟持ち
	ELSEIF SUB_TALENT == 2
		SUB_STR:0 = 妹持ち
	ELSEIF SUB_TALENT == 3
		SUB_STR:0 = 兄持ち
	ELSEIF SUB_TALENT == 4
		SUB_STR:0 = 姉持ち
	ELSEIF SUB_TALENT == 5
		SUB_STR:0 = 幼い息子
	ELSEIF SUB_TALENT == 6
		SUB_STR:0 = 幼い娘
	ELSEIF SUB_TALENT == 7
		SUB_STR:0 = 年頃の息子
	ELSEIF SUB_TALENT == 8
		SUB_STR:0 = 年頃の娘
	ENDIF
;악세서리
ELSEIF TALENT_VAR == 811
	IF SUB_TALENT == 1
		SUB_STR:0 = メガネっ娘
	ELSEIF SUB_TALENT == 2
		SUB_STR:0 = アホ毛
	ELSEIF SUB_TALENT == 3
		SUB_STR:0 = お嬢様
	ENDIF
;외관
ELSEIF TALENT_VAR == 812
	IF SUB_TALENT == 1
		SUB_STR:0 = 安産型
	ELSEIF SUB_TALENT == 2
		SUB_STR:0 = むちむち
	ELSEIF SUB_TALENT == 3
		SUB_STR:0 = イカ腹
	ELSEIF SUB_TALENT == 4
		SUB_STR:0 = スレンダー
	ELSEIF SUB_TALENT == 5
		SUB_STR:0 = 巨尻
	ELSEIF SUB_TALENT == 6
		SUB_STR:0 = 爆尻
	ENDIF
;성별변화＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾＾
ELSEIF TALENT_VAR == 900
	IF SUB_TALENT == 1
		SUB_STR:0 = 完全女体化
	ELSEIF SUB_TALENT == 10
		SUB_STR:0 = 封印男体化
	ELSEIF SUB_TALENT == 11
		SUB_STR:0 = 強制女体化
	ENDIF
ELSE
	SUB_STR:0 = %TALENTNAME:TALENT_VAR%
ENDIF

IF POPUP_VAR
	PRINT_STR = %PRINT_STR%<nonbutton title='%SUB_STR:1%'>[%SUB_STR:0%]</nonbutton>
ELSE
	PRINT_STR = %PRINT_STR%[%SUB_STR:0%]
ENDIF
COUNT_VAR ++

IF COUNT_VAR > 5
	IF POPUP_VAR
		HTML_PRINT PRINT_STR
	ELSE
		PRINTFORML %PRINT_STR%
	ENDIF
	VARSET COUNT_VAR
	PRINT_STR = \@INDENT_VAR?#　\@　　　
ENDIF


;--------------------------------------------------
;ARGはタレント番号に対応
;大部分の説明文はTALENT.CSVのそれを持ってきています
;ARGの番号の素質の説明を返す
@TALENT_INFO(ARG)
#LOCALSIZE 1
#LOCALSSIZE 1
#FUNCTIONS
SELECTCASE ARG
	CASE -999
	;人工子宮
		RETURNF "人工的な子宮を持っている"
	CASE -11
	;育児中
		RETURNF "子育てを行っている。束の間の休息"
	CASE -10
	;入院中
		RETURNF "出産に備えて入院中"
	CASE -9
	;死亡
		RETURNF "生還が절망視されるため、ＫＩＡ扱いとなった"
	CASE -5
	;憂鬱中
		RETURNF "メンタルダウンして自室に引きこもっている"
	CASE -4
	;誘拐中
		RETURNF "악질 시민に誘拐されて行方不明中"
	CASE -3
	;흑화
		RETURNF "敵に心酔し寝返っている"
	CASE -2
	;세뇌
		RETURNF "敵に操られている"
	CASE -1
	;幽閉中
		RETURNF "敵に捕まって行方不明、いわゆるＭＩＡ"
	CASE 0
	;처녀
		RETURNF "乙女の証。清純度が好評価になるが、失った場合は고통が伴う"
	CASE 1
	;모유체질
		RETURNF "母乳を分泌する体質"
	CASE 2
	;おもらし癖
		RETURNF "失禁してしまいやすい"
	CASE 3
	;백보지
		RETURNF "恥辱が溜まりやすい"
	CASE 4
	;미성숙
		RETURNF "임신できない"
	CASE 5
	;초심
		RETURNF "エッチなことに耐性ができない"
	CASE 10
	;겁쟁이
		RETURNF "後方支援もできる万能型だが공포に弱い。기력△、민첩○、지성◎。倒錯しにくい"
	CASE 11
	;부끄럼쟁이
		RETURNF "人一倍シャイなタイプ。最も민첩が伸びやすい高機動型。性耐△、방어○、민첩◎。倒錯しにくい"
	CASE 12
	;오기
		RETURNF "공포にも고통にも屈さないアタッカーだが、前のめりでガードが甘い。공격◎、방어×。怒りやすい"
	CASE 13
	;활발함
		RETURNF "체력に優れるぶん、休憩回数が少なくて済む。作戦を考えるのは苦手。체력◎、지성×。諦観しにくい"
	CASE 14
	;대범함
		RETURNF "後方支援もこなせる방어型。多少のことでは動じない。방어◎、민첩性×、지성◎。消沈しにくい"
	CASE 15
	;게으름
		RETURNF "何事もそつなくこなす。足りないのは根性。체력△、기력△、공격○、방어○、민첩○、지성△。動揺しにくい"
	CASE 16
	;진지함
		RETURNF "最後まで諦めない耐久型だが、エッチなことには弱い。기력◎、性耐×、지성○。冷静になりやすい"
	CASE 17
	;낙천적
		RETURNF "エッチなことに対する耐性が非常に高い。性耐◎、공격△。消沈しにくい。刻印で怯みにくい"
	CASE 18
	;비관적
		RETURNF "能力や耐性は悪くないが、すぐに諦めるのが珠にキズ。체력○、기력×、방어○、지성○。倒錯しにくい"
	CASE 19
	;순종적
		RETURNF "扱いやすい性能をしているが、지성は伸びにくい。체력○、기력○、性耐○、지성△。高揚しやすい"
	CASE 20
	;츤데레
		RETURNF "고통に対して非常に高い耐性を持つが、羞恥心は強い。기력○、性耐△。怒りやすい"
	CASE 21
	;얀데레
		RETURNF "弱点がなく、精神面が非常にタフで随一の耐性を持つ。能力補正なし。諦観しにくい"
	CASE 22
	;과묵함
		RETURNF "耐久力と지성を両立しており고통に強い。기력○、性耐○、방어△、지성○。冷静になりやすい"
	CASE 23
	;수다쟁이
		RETURNF "민첩が伸びるので便利だが、普段の余裕の態度は実は強がり。체력○、민첩○。高揚しやすい"
	CASE 24
	;고풍적
		RETURNF "正面からぶつかって相手を捩じ伏せるアタッカー。性耐×、공격○、방어○。動揺しにくい"
	CASE 25
	;경박함
		RETURNF "アタッカーとして優秀だが耐久力の低さがネック。체력×、기력△、性耐○、공격○、민첩○。高揚しやすい"
	CASE 26
	;고집쟁이
		RETURNF "根性は十分。エッチなことにも強いが、実は고통に最も弱い。기력○、性耐○。諦観しにくい"
	CASE 27
	;사나움
		RETURNF "非常に高い공격補正を持つが、心の内に弱さを抱えている。체력○、공격◎、민첩△、지성△。怒りやすい"
	CASE 100
	;C민감
		RETURNF "PALAM:쾌Cが上がりやすい"
	CASE 101
	;C둔감
		RETURNF "PALAM:쾌Cが上がりにくい"
	CASE 102
	;V민감
		RETURNF "PALAM:쾌Vが上がりやすい"
	CASE 103
	;V둔감
		RETURNF "PALAM:쾌Vが上がりにくい"
	CASE 104
	;A민감
		RETURNF "PALAM:쾌Aが上がりやすい"
	CASE 105
	;A둔감
		RETURNF "PALAM:쾌Aが上がりにくい"
	CASE 106
	;B민감
		RETURNF "PALAM:쾌Bが上がりやすい"
	CASE 107
	;B둔감
		RETURNF "PALAM:쾌Bが上がりにくい"

	CASE 110
	;빈유
		RETURNF "胸で与える快感が少ないが、쾌Bが上がりにくい"
	CASE 111
	;거유
		RETURNF "胸で与える快感が多いが、쾌Bが上がりやすい"
	CASE 112
	;젖기쉬움,
		RETURNF "PALAM:윤활が上がりやすい"
	CASE 113
	;젖기어려움,
		RETURNF "PALAM:윤활が上がりにくい"
	CASE 114
	;회복빠름,
		RETURNF "回復量が増えるが、鍛錬効率が少し落ちる"
	CASE 115
	;회복느림,
		RETURNF "回復量が減るが、鍛錬効率が少し上昇する"
	CASE 116
	;왜소함
		RETURNF "민첩にプラス補正。공격と振りほどきにマイナス補正"
	CASE 117
	;장신
		RETURNF "공격にプラス補正。민첩と振りほどきにマイナス補正"
	CASE 150
	;촉수의포로
		RETURNF "공순、욕정、굴복に補正。戦闘中に体が竦んで行動できなくなることがある"
	CASE 151
	;음란
		RETURNF "윤활、욕정、치정に補正"
	CASE 152
	;붕괴
		RETURNF "（未実装）"
	CASE 153
	;음핵,
		RETURNF "PALAM:쾌Cが上がりやすい。夜這いイベントが発生するようになる"
	CASE 154
	;음호,
		RETURNF "PALAM:쾌Vが上がりやすい。夜這いイベントが発生するようになる"
	CASE 155
	;음고,
		RETURNF "PALAM:쾌Aが上がりやすい。夜這いイベントが発生するようになる"
	CASE 156
	;음유,
		RETURNF "PALAM:쾌Bが上がりやすい。夜這いイベントが発生するようになる"
	CASE 159
	;임신,
		RETURNF "임신している。胎児が大きくなると出撃が出来なくなる"
	CASE 160
	;기생,
		RETURNF "촉수に기생された状態。戦闘中に体が竦んで行動できなくなることがある"
	CASE 161
	;묘상화,
		RETURNF "촉수の苗床と化した状態。出産しやすくなり、産む촉수の数も増える"
	CASE 162
	;전락
		RETURNF "身も心も촉수に굴복した状態。敗北すると即座に寝返る"
	CASE 180
	;근거리특기
		RETURNF "근거리での戦闘力が上昇し、근거리技能が成長しやすくなる。근거리以外が若干苦手になる"
	CASE 181
	;근거리서툼
		RETURNF "근거리での戦闘力が低下し、근거리技能が成長しにくくなる。근거리以外が若干得意になる"
	CASE 182
	;중거리특기
		RETURNF "중거리での戦闘力が上昇し、중거리技能が成長しやすくなる。중거리以外が若干苦手になる"
	CASE 183
	;중거리서툼
		RETURNF "중거리での戦闘力が低下し、중거리技能が成長しにくくなる。중거리以外が若干得意になる"
	CASE 184
	;원거리특기
		RETURNF "원거리での戦闘力が上昇し、원거리技能が成長しやすくなる。원거리以外が若干苦手になる"
	CASE 185
	;원거리서툼
		RETURNF "원거리での戦闘力が低下し、원거리技能が成長しにくくなる。원거리以外が若干得意になる"
	CASE 186
	;공중전특기
		RETURNF "エアストライク使用時に공격の直撃率がアップし、空中戦技Lvも一段階上昇する"
	CASE 187
	;공중전서툼
		RETURNF "エアストライク使用時に공격の直撃率がダウンし、空中戦技Lvも一段階低下してしまう"

	CASE 190 TO 193
	;C결계,ＶＡＢ
		RETURNF "対応する部位への性的な接触を防ぐ結界"

	CASE 200
	;변신능력
		RETURNF "변신능력があるかどうか"

	CASE 201 TO 249
	;種族
		RETURNF "キャラの種族を示す素質"

	CASE 300
	;후타나리
		RETURNF "女性なのにペニスが生えている"

	CASE 301
	;청순파
		RETURNF "正義のヒロインの証！一部コマンドが使用不可になる代わりに인기도가 上がりやすくなる。純潔度評価もアップ"

	CASE 302
	;성징정체
		RETURNF "肉体が幼いまま性徴しない"

	CASE 303
	;피임결계
		RETURNF "성내성が残っている限り촉수の精液による임신を防ぐ"
	CASE 304
	;놀림받는체질
		RETURNF "妙にエッチな目に合ってる気がする・・・"

	CASE 400
	;남자
		RETURNF "男性であることを示す素質"

	CASE 401
	;변신시TS
		RETURNF "변신한다と性別が逆転する"

	CASE 403
	;여체수용
		RETURNF "自分が女性であることを受け入れてしまった状態"

	CASE 404
	;변신시후타나리
		RETURNF "変身時に후타나리になる"

	CASE 405
	;보추
		RETURNF "남자でありながら女の子にしか見えない"

	CASE 406
	;변신시보추
		RETURNF "変身時に보추になる"

	CASE 507
	;사지결손
		RETURNF "手足のない人豚、ほとんどの行動を実行できない"

	CASE 508
	;번식자루
		RETURNF "理性を失った植物状態、全ての行動を実行できない"

	;내성적
	CASE 600
		RETURNF "경험치効率がアップ、정보 수집の効率がダウン"

	;사교적
	CASE 601
		RETURNF "정보 수집の効率がアップ、不審人物に狙われやすい"

	;제멋대로굼
	CASE 602
		RETURNF "경험치効率がアップ、전투 지원を受けたときの効果ダウン"

	;헌신적
	CASE 603
		RETURNF "전투 지원の効果アップ、전투 지원を行ったときの消費アップ"

	;소심함
	CASE 604
		RETURNF "굴복が上昇しやすいが、不審人物に狙われにくい"

	;자존심높음
	CASE 605
		RETURNF "굴복が上昇しにくいが、굴복각인がLv3以上になると…"

	;보수적
	CASE 606
		RETURNF "습득が上昇しにくいが、性行為で消耗しにくくなる"

	;호기심
	CASE 607
		RETURNF "습득が上昇しやすいが、性行為で消耗しやすくなる"

	;새드기질
	CASE 608
		RETURNF "공격を直撃させると기력が回復するが、同時に욕정も増加"

	;마조기질
	CASE 609
		RETURNF "마조끼が成長しやすい"

	;쾌감에솔직
	CASE 610
		RETURNF "理性強度-2　고통が上昇しにくいが、공순が上昇しやすい"

	;쾌감을부정
	CASE 611
		RETURNF "理性強度+2　굴복が上昇しやすいが、욕정が上昇しにくい"

	;전투거부
	CASE 612
		RETURNF "戦意強度-2　굴복が上昇しにくいが、공포が上昇しやすい"

	;싸움꾼
	CASE 613
		RETURNF "戦意強度+2　공포が上昇しにくいが、욕정が上昇しやすい"

	;수줍음
	CASE 614
		RETURNF "공순が上昇しにくいが、치정が上昇しやすい"

	;배짱
	CASE 615
		RETURNF "치정が上昇しにくいが、욕정が上昇しやすい"

	;인간불신
	CASE 616
		RETURNF "夜這いが発生しにくくなる"

	;양도
	CASE 617
		RETURNF "男性が相手でも女性が相手でも平気で夜這いができる"

	;남성기피
	CASE 618
		RETURNF "男性に対して夜這いが発生しにくくなる"

	;여성기피
	CASE 619
		RETURNF "女性に対して夜這いが発生しにくくなる"

	;모성적
	CASE 620
		RETURNF "인기도가 上昇しやすいが、공순も上昇しやすい"

	;소악마
	CASE 621
		RETURNF "인기도가 上昇しやすいが、굴복も上昇しやすい"

	;눈에띄고싶어함
	CASE 622
		RETURNF "인기도가 上昇しやすいが、고통も上昇しやすい"

	;고상함
	CASE 623
		RETURNF "인기도가 上昇しやすいが、치정も上昇しやすい"

	;울보
	CASE 624
		RETURNF "인기도가 上昇しやすいが、공포も上昇しやすい"
	;결벽증
	CASE 625
		RETURNF "욕정、굴복が上昇しにくいが、치정と공포がとても上昇しやすい"

	CASE 800
	;교제상대
		RETURNF "交際している相手"

	CASE 801
	;학생
		RETURNF "学校に通う학생の身分"
	
	CASE 810
	;가족관계
		RETURNF "キャラの가족관계"

	CASE 811
	;악세서리
		RETURNF "キャラの細かい特徴"

	CASE 812
	;외관
		RETURNF "キャラの외관の特徴"

	CASE 999
	;原作キャラ
		RETURNF "原作ありキャラの判定用"

	CASE 1100
	;평범
		RETURNF "拘束された際に油断させやすい/매료경험이 上昇しにくい"

	CASE 1101
	;말려드는체질
		RETURNF "出撃時に보스 촉수が出現しやすい/襲撃イベントのターゲットにされやすく、観衆が出現しやすい"

	CASE 1102
	;공세구축
		RETURNF "공격の直撃率が6%上昇/拘束された際に油断させにくい"

	CASE 1103
	;마력저장
		RETURNF "戦闘開始時にEXゲージが２つ溜まる/休憩時の回復量が少し低下"

	CASE 1104
	;고속회피
		RETURNF "戦闘中に一度だけ絶対回避/공격-5"

	CASE 1105
	;신기소유자
		RETURNF "공격,방어,민첩+5/성내성-10,세뇌、흑화しやすくなる"

	CASE 1106
	;투쟁본능
		RETURNF "공격+10/성내성-5,세뇌、흑화しやすくなる"

	CASE 1107
	;넘치는생명력
		RETURNF "戦闘中と休憩時の回復量が上昇/지성-5"

	CASE 1108
	;정령교신
		RETURNF "先制率上昇,지성+10/공격,방어,민첩-5"

	CASE 1109
	;야수의후손
		RETURNF "クリティカル率+6%/지성-10,임신しやすい"

	CASE 1110
	;밤악마의귀족
		RETURNF "全能力+10,昼間の回復量アップ/昼間に行動制限"

	CASE 1200
	;숨겨진힘
		RETURNF "ピンチで直撃率とクリティカル率+12%/공격,방어,민첩,지성ボーナス-5"

	CASE 1201
	;행운아
		RETURNF "특별 활동と정보 수집の効率アップ/공격,방어,민첩,지성ボーナス-5"

	CASE 1202
	;타고난전사
		RETURNF "クリティカル被弾防止,기절防止/특별 활동と전투 지원に参加不能"

	CASE 1203
	;근력강화
		RETURNF "공격+5,「풀어낸다」の成功率アップ/「풀어낸다」使用時に疲労蓄積"

	CASE 1204
	;날개
		RETURNF "방어+5,공중대시ゲージが１つ増加/着地時に疲労蓄積"

	CASE 1205
	;공중부유
		RETURNF "공중대시を使用しても疲労が蓄積しない/移動系コマンド実行時に疲労蓄積"

	CASE 1206
	;소형체구
		RETURNF "민첩+5,着地ペナルティ無効/「풀어낸다」の成功率ダウン"

	CASE 1207
	;핫스타트
		RETURNF "常にバースト공격が使用可能/バースト공격使用時に追加で疲労蓄積"

	CASE 1208
	;풀버스트
		RETURNF "バースト공격の威力アップ/バースト공격使用時に追加で疲労蓄積"

	CASE 1209
	;축복
		RETURNF "状態異常耐性/粘液,波動ダメージ増大,임신しやすい"

	CASE 1210
	;불굴
		RETURNF "消耗しても行動成功率が低下しにくい/EXゲージが増加しにくい"

	CASE 1211
	;스태미나
		RETURNF "疲労しても回復量が低下しにくい/EXゲージが増加しにくい"

	CASE 1212
	;불로장수
		RETURNF "時間経過で疲労回復/休憩時の回復量が少し低下,임신しにくい"

	CASE 1213
	;지혜의극치
		RETURNF "지성+10/체력,기력,성내성-5"

	CASE 1214
	;사냥꾼의직감
		RETURNF "先制率上昇,雑魚撃破時の探索度上昇量アップ/지성-5"

	CASE 1215
	;심안
		RETURNF "直撃率とクリティカル率+3%/방어,민첩-5"

	CASE 1216
	;남다른미모
		RETURNF "인기도と매료경험이 上昇しやすい/襲撃イベントのターゲットにされやすく、観衆が出現しやすい"

	CASE 1217
	;배덕의낙인
		RETURNF "搾精공격で与えるダメージアップ/戦闘や幽閉時に獲得する珠の量が増加"

	CASE 1218
	;에어마스터
		RETURNF "空中での回避率+25%/공중대시使用時に疲労蓄積"

ENDSELECT
	

;--------------------------------------------------
;能力表示
@SHOW_STATUS_ABL, ARG
PRINTL ◆開発
LOCAL = 0
REPEAT 99
	IF ABLNAME:COUNT != ""
		IF COUNT != 30 && COUNT != 31 && COUNT != 32 && COUNT != 33 && COUNT != 50
			IF ABL:ARG:COUNT == 0
				LOCAL:1 = 128
				LOCAL:2 = 128
				LOCAL:3 = 128
			ELSEIF ABL:ARG:COUNT <= 3
				LOCAL:1 = 255
				LOCAL:2 = 192
				LOCAL:3 = 192
			ELSEIF ABL:ARG:COUNT <= 5
				LOCAL:1 = 255
				LOCAL:2 = 128
				LOCAL:3 = 128
			ELSEIF ABL:ARG:COUNT <= 9
				LOCAL:1 = 255
				LOCAL:2 = 64
				LOCAL:3 = 64
			ELSE
				LOCAL:1 = 255
				LOCAL:2 = 94
				LOCAL:3 = 255
			ENDIF			
			IF ABL:ARG:COUNT > 10
				LOCAL:3=MIN(LOCAL:3+64,255)
				SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
				PRINTFORM %ABLNAME:COUNT,8,LEFT%：Lv{ABL:ARG:COUNT,2,RIGHT}[
				CALL COLOR_BAR(ABL:ARG:COUNT-9,10,5,LOCAL:1,LOCAL:2,LOCAL:3,-16,10,10,6,2,"❤",">>")
			ELSE
				SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
				PRINTFORM %ABLNAME:COUNT,8,LEFT%：Lv{ABL:ARG:COUNT,2,RIGHT}[
				CALL COLOR_BAR(ABL:ARG:COUNT,10,10,LOCAL:1,LOCAL:2,LOCAL:3,-160,10,10,6,2,">",">")
			ENDIF
			SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
			PRINT ]
			RESETCOLOR
		ENDIF
		SIF COUNT == 3 || COUNT == 13 || COUNT == 21
			PRINTL 
	ENDIF
REND

;--------------------------------------------------
;각인 표시
@SHOW_STATUS_MARK, ARG
PRINTL ◆刻印
REPEAT 5
	SIF COUNT == 3
		PRINTL 
	;PRINTFORM %MARKNAME:COUNT%：LV.{MARK:ARG:COUNT}   
	;CALLFORM COLORSENTENCE_BAR(MARKNAME:COUNT, 8, MARK:ARG:COUNT, 10, 10)
	IF MARK:ARG:COUNT == 0
		LOCAL:1 = 128
		LOCAL:2 = 128
		LOCAL:3 = 128
	ELSEIF MARK:ARG:COUNT <= 2
		LOCAL:1 = 255
		LOCAL:2 = 192
		LOCAL:3 = 192
	ELSEIF MARK:ARG:COUNT <= 3
		LOCAL:1 = 255
		LOCAL:2 = 128
		LOCAL:3 = 128
	ELSEIF MARK:ARG:COUNT <= 4
		LOCAL:1 = 255
		LOCAL:2 = 64
		LOCAL:3 = 64
	ELSE
		LOCAL:1 = 255
		LOCAL:2 = 94
		LOCAL:3 = 255
	ENDIF			
	SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
	PRINTFORM %MARKNAME:COUNT%：Lv{MARK:ARG:COUNT,2,RIGHT}[
	CALL COLOR_BAR(MARK:ARG:COUNT,5,5,LOCAL:1,LOCAL:2,LOCAL:3,-160,10,10,6,2,"❤","❤")
	SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
	PRINT ]
	RESETCOLOR

REND

;--------------------------------------------------
;経験表示
@SHOW_STATUS_EXP, ARG
PRINTL ◆経験
LOCAL = 0
REPEAT 99
	;함락경험は非表示
	SIF COUNT == 12
		CONTINUE
	;スカトロ描写offなら방뇨경험は非表示
	IF COUNT == 55 && CONFIG_CHECK_MANIAC_F(15) == 0
		PRINTL 
		CONTINUE
	ENDIF
	IF TALENT:ARG:변신능력 == -1
		SIF COUNT == 5 || COUNT == 6 || COUNT == 7
			CONTINUE
	ELSE
		SIF COUNT == 8
			CONTINUE
	ENDIF
	IF EXPNAME:COUNT != ""
		IF EXP:ARG:COUNT == 0
			LOCAL:1 = 128
			LOCAL:2 = 128
			LOCAL:3 = 128
		ELSEIF EXPNAME:COUNT == "매료경험" || COUNT<9
			LOCAL:1 = 255
			LOCAL:2 = 255
			LOCAL:3 = 255		
		ELSEIF EXP:ARG:COUNT < 30
			LOCAL:1 = 255
			LOCAL:2 = 192
			LOCAL:3 = 192
		ELSEIF EXP:ARG:COUNT < 100
			LOCAL:1 = 255
			LOCAL:2 = 128
			LOCAL:3 = 128
		ELSEIF EXP:ARG:COUNT < 200
			LOCAL:1 = 255
			LOCAL:2 = 64
			LOCAL:3 = 64
		ELSE
			LOCAL:1 = 255
			LOCAL:2 = 94
			LOCAL:3 = 255
		ENDIF			
		SETCOLOR LOCAL:1,LOCAL:2,LOCAL:3
		PRINTFORM %EXPNAME:COUNT,14%：{EXP:ARG:COUNT,8,LEFT}
		RESETCOLOR
		SIF COUNT == 2 || COUNT == 7 || COUNT == 11 || COUNT == 21 || COUNT == 24 || COUNT == 32 || COUNT == 41 || COUNT == 52 || COUNT == 55
			PRINTL 
		SIF COUNT == 8 && TALENT:ARG:변신능력 == -1
			PRINTL 
	ENDIF
REND

;--------------------------------------------------
;珠表示
@SHOW_STATUS_JUEL, ARG
PRINT ◆珠　
LOCAL:0 = 0
REPEAT 12
	LOCAL:0 = COUNT
	SIF COUNT > 3
		LOCAL:0 += 6
	SIF COUNT == 4 || COUNT == 8
		PRINT 　　　
	PRINTFORM %PALAMNAME:(LOCAL:0),6,RIGHT% : {JUEL:ARG:(LOCAL:0),10, RIGHT}　
	SIF COUNT == 3 || COUNT == 7
		PRINTL 
REND

;--------------------------------------------------
;武器カスタマイズ表示
@SHOW_WEAPON_EDIT, ARG,ARG:1
IF ARG:1 == 1
	PRINTFORM ◆근거리武器 
ELSEIF ARG:1 == 2
	PRINTFORM ◆중거리武器 
ELSEIF ARG:1 == 3
	PRINTFORM ◆원거리武器 
ENDIF
IF CSTR:ARG:(ARG:1 + 4) != ""
	PRINTFORML 『%CSTR:ARG:(ARG:1 + 4)%』
ELSE
	PRINTL （武器名が設定されていません）
ENDIF
PRINTL │
CALL FSTYLE_ATTACK,ARG,ARG:1
PRINTFORML └◎전투스타일　<<%FSTYLE_NAME_F(ARG,ARG:1)%>>　　　　　　　　　威力：【{RESULT}】
CALL SET_FSTYLE_INFO,ARG,ARG:1
PRINTFORML 　---> %RESULTS:0%
PRINTFORML 　---> %RESULTS:1%
PRINTFORML 　---> %RESULTS:2%



;--------------------------------------------------
;ヘアスタイルの表示
@SHOW_HAIRSTYLE, ARG
VARSET LOCALS
LOCALS += "　　　　　前髪："
LOCALS += @"『%CSTR:ARG:12%』"

PRINTFORML %LOCALS,40,LEFT%

LOCALS = 
LOCALS += "　ヘアスタイル："
LOCALS += @"『%CSTR:ARG:13%』"

PRINTFORM %LOCALS,40,LEFT%
LOCALS = 
IF TALENT:ARG:변신능력 == 1
	LOCALS += "　　　　変身中："
	LOCALS += @"『%CSTR:ARG:14%』"
	PRINTFORM %LOCALS%
ENDIF
PRINTL 

;--------------------------------------------------
;髪色の表示
@SHOW_HAIRCOLOR, ARG
PRINT 　　　　髪の色：[
IF CSTR:ARG:30 == ""
	PRINT 設定なし
ELSE
	CALL SETCOLOR_BY_STR, CSTR:ARG:30
	PRINT ■
ENDIF
RESETCOLOR
PRINT ]　
IF TALENT:ARG:변신능력 == 1
	PRINT 変身中：[
	IF CSTR:ARG:31 == ""
		PRINT 設定なし
	ELSE
		CALL SETCOLOR_BY_STR, CSTR:ARG:31
		PRINT ■
	ENDIF
	RESETCOLOR
	PRINT ]
ENDIF
PRINTL 

;--------------------------------------------------
;瞳色の表示
@SHOW_EYESCOLOR, ARG
PRINT 　　　　　右目：[
IF CSTR:ARG:32 == ""
	PRINT 設定なし
ELSE
	CALL SETCOLOR_BY_STR, CSTR:ARG:32
	PRINT ■
ENDIF
RESETCOLOR
PRINT ]　　左目：[
IF CSTR:ARG:33 == ""
	PRINT 設定なし
ELSE
	CALL SETCOLOR_BY_STR, CSTR:ARG:33
	PRINT ■
ENDIF
RESETCOLOR
PRINT ]
PRINTL 

;--------------------------------------------------
;肌色の表示
@SHOW_SKINCOLOR, ARG
PRINT 　　　　肌の色：[
IF CSTR:ARG:34 == ""
	PRINT 設定なし
ELSE
	CALL SETCOLOR_BY_STR, CSTR:ARG:34
	PRINT ■
ENDIF
RESETCOLOR
PRINT ]
PRINTL 

;--------------------------------------------------
;文字列を色情報に解凍する
@SETCOLOR_BY_STR,ARGS
#DIMS SeparatorMajor
#DIMS String

SeparatorMajor = //
String = %ARGS%
IF String == "赤" || String == "レッド"
	SETCOLOR 255,8,8
ELSEIF String == "緑" || String == "グリーン"
	SETCOLOR 8,255,125
ELSEIF String == "青" || String == "ブルー"
	SETCOLOR 8,125,255
ELSEIF String == "黄" || String == "イエロー"
	SETCOLOR 245,245,125
ELSEIF String == "金" || String == "ブロンド" || String == "ゴールド"
	SETCOLOR 255,255,8
ELSEIF String == "紫" || String == "パープル"
	SETCOLOR 255,8,255
ELSEIF String == "橙" || String == "オレンジ"
	SETCOLOR 255,125,8
ELSEIF String == "桃" || String == "ピンク"
	SETCOLOR 255,8,125
ELSEIF String == "銀" || String == "シルバー"
	SETCOLOR 200,200,255
ELSEIF String == "茶" || String == "ブラウン" || String == "ブルネット"
	SETCOLOR 88,8,8
ELSEIF String == "黒" || String == "ブラック"
	SETCOLOR 40,24,24
ELSEIF String == "肌色"
	SETCOLOR 255,200,180
ELSEIF String == "褐色"
	SETCOLOR 183,86,17
ELSEIF String == "色白"
	SETCOLOR 255,236,220
ELSEIF ARGS == ""
	RETURN -1
ELSE
	SPLIT String , SeparatorMajor, LOCALS
	SETCOLOR TOINT(LOCALS:0), TOINT(LOCALS:1), TOINT(LOCALS:2)
ENDIF

@STATUS_PRINT_EX(ARG)
	FONTBOLD
	;PRINT GUAGE STOCK　
	FONTITALIC
	IF ARG == 1
		LOCAL=TCVARn:5
		IF LOCAL / 100 >= 1
			IF TCVARn:6 <= -500 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 210,210,80
			ENDIF
			PRINT ■
		ENDIF
		IF LOCAL / 100 >= 2
			IF TCVARn:6 <= -400 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 220,220,90
			ENDIF
			PRINT ■
		ENDIF
		IF LOCAL / 100 >= 3
			IF TCVARn:6 <= -300 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 230,230,100
			ENDIF
			PRINT ■
		ENDIF	
		IF LOCAL / 100 >= 4
			IF TCVARn:6 <= -200 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 240,240,110
			ENDIF
			PRINT ■
		ENDIF
		IF LOCAL / 100 >= 5
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 250,250,120
			ENDIF
			PRINT ■
		ENDIF
		SETCOLOR 128,128,128
		REPEAT MAX(0,5-LOCAL / 100)
			PRINT □
		REND
		PRINT  
	ELSEIF ARG==2
		SETCOLOR 64,64,64
		REPEAT 5
			PRINT □
		REND
		PRINT  

	ELSE
		LOCAL=TCVARn:4
		IF LOCAL / 100 == 0
			SETCOLOR 128,128,128
			PRINT □
			PRINT □
			PRINT □
			PRINT □
			PRINT □
			PRINT  
		ELSEIF LOCAL / 100 == 1
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 160,160,160
			ENDIF
			PRINT ■
			SETCOLOR 128,128,128
			PRINT □
			PRINT □
			PRINT □
			PRINT □
			PRINT  
		ELSEIF LOCAL / 100 == 2
			IF TCVARn:6 <= -200 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 160,160,160
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 170,170,170
			ENDIF
			PRINT ■
			SETCOLOR 128,128,128
			PRINT □
			PRINT □
			PRINT □
			PRINT  
		ELSEIF LOCAL / 100 == 3
			IF TCVARn:6 <= -300 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 160,160,160
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -200 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 170,170,170
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 180,180,180
			ENDIF
			PRINT ■
			SETCOLOR 128,128,128
			PRINT □
			PRINT □
			PRINT  
		ELSEIF LOCAL / 100 == 4
			IF TCVARn:6 <= -400 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 160,160,160
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -300 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 170,170,170
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -200 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 180,180,180
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 200,200,200
			ENDIF
			PRINT ■
			SETCOLOR 128,128,128
			PRINT □
			PRINT  
		ELSEIF LOCAL / 100 == 5
			IF TCVARn:6 <= -500 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 160,160,160
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -400 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 170,170,170
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -300 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 180,180,180
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -200 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 200,200,200
			ENDIF
			PRINT ■
			IF TCVARn:6 <= -100 && CFLAG:1 != 2
				SETCOLOR 255,255,0
			ELSE
				SETCOLOR 220,220,220
			ENDIF
			PRINT ■
			PRINT  
		ENDIF

	ENDIF

	RESETCOLOR
	FONTREGULAR

;戦闘用、空中ゲージ表示
@STATUS_PRINT_AIRGAGE
;ジャンプ性能
FONTBOLD
PRINT AIR. 
FONTITALIC
IF MAXBASE:공중대시 > 0
	IF BASE:공중대시 == 0
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 - GETBIT(TCVARn:216, 0) == 0
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 1
	IF BASE:공중대시 < 2
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 1
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 2
	IF BASE:공중대시 < 3
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 2
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 3
	IF BASE:공중대시 < 4
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 3
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 4
	IF BASE:공중대시 < 5
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 4
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 5
	IF BASE:공중대시 < 6
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 5
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 6
	IF BASE:공중대시 < 7
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 6
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
IF MAXBASE:공중대시 > 7
	IF BASE:공중대시 < 8
		SETCOLOR 128,128,128
		PRINT □
	ELSEIF BASE:공중대시 -  GETBIT(TCVARn:216, 0) == 7
		SETCOLOR 255,255,0
		PRINT ■
	ELSE
		SETCOLOR 220,220,220
		PRINT ■
	ENDIF
	RESETCOLOR
ELSE
	PRINT 　
ENDIF
FONTREGULAR




@STATUS_PRINT_FEAT
;種族とFEATの表示
FOR LOCAL, 201, 250
	SIF TALENT:LOCAL > 0
		PRINTFORM  種族:%TALENTNAME:LOCAL%    
NEXT
PRINT FEAT:
LOCAL:1 = 0
FOR LOCAL, 1100, 1300
	SIF TALENTNAME:LOCAL == "고속회피" && TFLAG:80 > 0
		SETCOLOR 128,128,128
	SIF TALENTNAME:LOCAL == "숨겨진힘" && PERCENT_CAL_F(BASE:체력 + BASE:기력, MAXBASE:체력 + MAXBASE:기력) > 25
		SETCOLOR 128,128,128
	IF TALENT:LOCAL > 0
		PRINTFORM [%TALENTNAME:LOCAL%]
		LOCAL:1 = 1
	ENDIF
	RESETCOLOR
NEXT
IF LOCAL:1 == 1
	PRINTL 
		;直撃率
	LOCAL:2 = 0
	;CRT率
	LOCAL:3 = 0
	;バースト공격の피로도
	LOCAL:4 = 0

	;メリット効果
	PRINT    
	SETCOLOR 200,255,200
	IF TALENT:공세구축 > 0
		LOCAL:2 += 6
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:야수의후손 > 0
		LOCAL:3 += 6
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:숨겨진힘 > 0 && PERCENT_CAL_F(BASE:체력 + BASE:기력, MAXBASE:체력 + MAXBASE:기력) <= 25
		LOCAL:2 += 12
		LOCAL:3 += 12
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:심안 > 0
		LOCAL:2 += 3
		LOCAL:3 += 3
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:공생 > 0
		LOCAL:2 += 2
		LOCAL:3 += 2
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF LOCAL:2 > 0
		PRINT 直撃率+
		PRINTFORM {LOCAL:2}
		PRINT %  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF LOCAL:3 > 0
		PRINT CRT率+
		PRINTFORM {LOCAL:3}
		PRINT %  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:고속회피 > 0 && TFLAG:80 == 0
		PRINT 絶対回避  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:투쟁본능 > 0
		PRINT 황홀耐性  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:넘치는생명력 > 0
		PRINT 回復量アップ  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:타고난전사 > 0
		PRINT 기절耐性  被CRT防止  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:근력강화 > 0
		PRINT 振り解き率アップ  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:에어마스터 > 0
		PRINT 空中性能強化  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:날개 > 0
		PRINT 공중대시ゲージ+1  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:공중부유 > 0
		PRINT 공중대시疲労軽減  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:소형체구 > 0
		PRINT 着地ペナルティ無効  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:핫스타트 > 0
		PRINT 常にバースト공격可能  
		LOCAL:4 += 1
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:풀버스트 > 0
		PRINT バースト공격の威力アップ  
		LOCAL:4 += 1
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:축복 > 0
		PRINT 状態異常耐性  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:불굴 > 0
		PRINT 消耗ペナルティ軽減  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:스태미나 > 0
		PRINT 持久力アップ  
		SIF LOCAL:1 < 3
			LOCAL:1 = 3
	ENDIF
	IF TALENT:평범 > 0
		PRINT 油断させやすい  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF
	IF TALENT:배덕의낙인 > 0
		PRINT 搾精ダメージアップ  
		SIF LOCAL:1 < 2
			LOCAL:1 = 2
	ENDIF

	SIF LOCAL:1 > 2
		PRINTL 

	;デメリット効果
	PRINT    
	SETCOLOR 255,200,255
	SIF TALENT:공세구축 > 0
		PRINT 油断させにくい  
	SIF TALENT:근력강화 > 0
		PRINT 풀어낸다と疲労+1  
	SIF TALENT:에어마스터 > 0
		PRINT 공중대시で疲労+1  
	SIF TALENT:날개 > 0
		PRINT 着地時に疲労+1  
	SIF TALENT:공중부유 > 0
		PRINT 移動系コマンドで疲労+1  
	SIF TALENT:소형체구 > 0
		PRINT 振り解き率ダウン  
	IF LOCAL:4 > 0
		PRINT バースト공격の反動+
		PRINTFORM {LOCAL:4}  
	ENDIF
	SIF TALENT:축복 > 0
		PRINT 粘液,波動ダメージ増大  
	SIF TALENT:불굴 > 0 || TALENT:스태미나 > 0
		PRINT EXゲージが上昇しにくい  
	RESETCOLOR
ELSE
	PRINTL ─
ENDIF
;SIF LOCAL:1 > 1
;	PRINTL 



@SHOW_TRAIN_PALAM_STATUS(ARGS)
;表示状態　かつ上部に表示されている場合
IF CONFIG_CHECK_SCREEN_F(5) == 1 && CONFIG_CHECK_SCREEN_F(6) == (ARGS=="上部" ? 0 # 1)
	;位置が固定されている場合
	IF CONFIG_CHECK_SCREEN_F(7) == 0
;		PRINTL 
		CALL SHOW_STATUS_PALAM
	;位置が固定されていない場合
	ELSE
		IF ARGS=="上部"
;			PRINTL 
			PRINT 　　　　　　　　　　　　　　　　　　　　　　　　
		ENDIF
		;閉じている場合
		IF CONFIG_CHECK_SCREEN_F(8) == 1
			PRINTBUTTON "[898] 調教스테이터스を表示", 898
			PRINTL 
		;開いている場合
		ELSE
			PRINTBUTTON "[898] 調教스테이터스を閉じる", 898
			SIF ARGS=="上部"
				PRINTBUTTON "[899] 下側に移動", 899
			SIF ARGS=="下部"
				PRINTBUTTON "[899] 上側に移動", 899
			PRINTL 
			;表示状態なら描画
			CALL SHOW_STATUS_PALAM
		ENDIF
	ENDIF
ELSE
;	PRINTL
ENDIF
